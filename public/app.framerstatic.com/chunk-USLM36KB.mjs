import{c as pr}from"https://app.framerstatic.com/chunk-RWHKJ5QL.mjs";import{a as Ht,b as kt}from"https://app.framerstatic.com/chunk-UPG5HTWJ.mjs";import{O as ml,P as gl}from"https://app.framerstatic.com/chunk-W742BX7F.mjs";import{Ga as al,J as Sn,L as sr,Pa as ll,Qa as pl,ab as dl,hb as fl,na as lr,oa as Vn,pa as dd,qa as On}from"https://app.framerstatic.com/chunk-OZMR6J2Y.mjs";import{O as Ut,k as sl}from"https://app.framerstatic.com/chunk-P3PQNGLR.mjs";import{qa as cl}from"https://app.framerstatic.com/chunk-FDLLIFYZ.mjs";import{G as zt,a as Ei,b as Za,ga as Ja,lf as kn,of as ol,pf as ar,qf as rl,ra as Xs,rf as nl,sf as il}from"https://app.framerstatic.com/chunk-ATANOO3H.mjs";import{a as Rn,g as Qs,h as el}from"https://app.framerstatic.com/chunk-2PXEF7RD.mjs";import{d as Nn}from"https://app.framerstatic.com/chunk-3CVNCHSP.mjs";import{a as St}from"https://app.framerstatic.com/chunk-BBHDN56U.mjs";import{a as mo}from"https://app.framerstatic.com/chunk-2SMMFYXI.mjs";import{b as nr}from"https://app.framerstatic.com/chunk-XXKLA2AS.mjs";import{L as js}from"https://app.framerstatic.com/chunk-I24ABD3P.mjs";import{g as Ys}from"https://app.framerstatic.com/chunk-7Y7LME3V.mjs";import{f as ul}from"https://app.framerstatic.com/chunk-NWG5V5Y3.mjs";import{r as tl}from"https://app.framerstatic.com/chunk-NDPPBRVU.mjs";import{Tb as Ua,ed as Ka,xe as $a}from"https://app.framerstatic.com/chunk-HABMTUSV.mjs";import{v as Ha}from"https://app.framerstatic.com/chunk-OOEWJVJW.mjs";import{f as Ne}from"https://app.framerstatic.com/chunk-XWGDE7KU.mjs";import{a as cr}from"https://app.framerstatic.com/chunk-NSQUS545.mjs";import{$ as $o,$d as wn,Ac as as,Cg as ie,Ee as Qe,Fe as Ee,Gd as gs,Hd as bs,He as yt,Jg as Fe,Ke as _t,Kg as ht,Le as He,Ne as Ds,Oe as qt,Pc as ss,Pd as Pn,Pe as J,Rd as ys,Re as fo,Sa as Qa,Sd as hs,Ta as es,Td as xs,Uc as ls,Ud as Cs,Vd as vs,Vg as Js,W as xn,Wa as ts,Wc as vn,Wd as Ps,X as Cn,Xa as os,Xd as Jo,Xe as Bs,Yc as cs,Yd as ws,Ye as As,Zd as jo,_d as Xo,ad as ps,af as In,bd as us,be as Ts,bg as tr,ce as Is,de as Rs,eb as uo,ee as ks,ef as Ls,f as Ya,fe as Yo,ff as Gs,ge as Ss,gg as or,he as Qo,hf as zs,hg as Ks,ie as Vs,if as _s,je as Os,jf as qs,ke as Ns,le as Tn,me as Es,mf as er,ne as Ms,ng as $s,oe as Fs,of as Us,pe as Ws,qb as rs,rf as Hs,tc as is,ub as ns,vb as Zo,vg as Me,wg as Zs,xd as ds,xg as rr,yd as fs,zd as ms}from"https://app.framerstatic.com/chunk-OMLUVIS3.mjs";import{a as v}from"https://app.framerstatic.com/chunk-QFU6OGL3.mjs";import{R as Wa,T as Da,U as Ba,V as Aa,X as Uo,Zc as za,cb as Ga,qd as _a}from"https://app.framerstatic.com/chunk-KMAC4JUD.mjs";import{$b as cn,Ab as Tt,Ae as ta,Bj as la,Bk as gn,Bo as Ra,C as Qr,Cb as an,Db as Ye,Dd as Yi,Eb as io,Ee as so,Fb as sn,Fe as oa,Gb as ln,Ge as ra,Gl as Pa,Gw as La,Jd as Qi,Jj as gt,Kd as pn,Kj as Lo,Kk as co,Lc as Q,Lj as bt,Mc as It,Mi as fn,Mk as po,Mp as ka,Nc as ao,Nf as lo,Ni as ia,Oa as Gi,Oc as $i,Oi as aa,Oj as pa,Ok as ba,Pb as mt,Pl as zo,Qa as zi,Qb as _e,Ql as wa,Ra as on,Rb as Wo,Rc as Oe,Sb as Ki,Sn as Ia,Te as Bo,Tl as Ta,Tp as Sa,Ub as Bt,Up as Va,W as Ce,Wr as Oa,X as re,Yb as At,Yj as ua,_ as Z,ak as da,ca as Bi,cj as sa,dl as ya,dq as Rt,el as bn,eq as Gt,fd as Zi,fj as Ue,ha as Eo,hk as Lt,ib as Mo,id as Ji,il as ha,iw as Fa,jb as ft,jd as ji,jk as Go,kb as rn,kl as xa,ld as Xi,lh as qe,m as dt,ng as Ao,ob as nn,oe as un,ok as fa,qe as ea,qs as qo,re as dn,rs as Na,sl as Ca,tb as Fo,tl as yn,ub as qi,ue as Do,uk as ma,vb as no,vk as mn,vr as _o,wb as Ui,wi as na,wr as de,xb as wt,xk as ga,xu as Ea,yb as Hi,yl as hn,z as Di,zb as ze,zl as va}from"https://app.framerstatic.com/chunk-MEZTIH57.mjs";import{a as Ho,d as Ko}from"https://app.framerstatic.com/chunk-R3NZHMAQ.mjs";import{L as _i,d as Mi,m as Fi,s as No,y as Wi}from"https://app.framerstatic.com/chunk-4PXICH4C.mjs";import{b as M}from"https://app.framerstatic.com/chunk-QLLZMBTC.mjs";import{a as Yr}from"https://app.framerstatic.com/chunk-YSH2VGR3.mjs";import{a as ir}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import{k as qa}from"https://app.framerstatic.com/chunk-PRTO6OS3.mjs";import{g as _,h as ja,i as me,m as Xa}from"https://app.framerstatic.com/chunk-N4S37JPH.mjs";import{b as Ni}from"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{a as Ai,b as k,c as tn,d as L,e as ro,f as Se,g as Ve,i as z,j as Li,k as Pt}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{Ia as en,Yd as ca,a as W,b as C,ce as Ma,i as oo}from"https://app.framerstatic.com/chunk-JX6NUTD4.mjs";import{g as Oo}from"https://app.framerstatic.com/chunk-TL2YQ7KN.mjs";import{A as ut,H as Oi,M as to,m as pt,v as Vi,z as Xe}from"https://app.framerstatic.com/chunk-WWEGIMHT.mjs";import{a as w,b as Ie}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{e as d,j as T,k as ue,l as Xr,m as Vo}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var ot=d(W());var ur=d(W());function fd(e){try{return k(e)?JSON.parse(e):null}catch{return null}}function En(e,t){let o=localStorage.getItem(e),r=fd(o);return t(r)?r:null}function dg(e,t){let[o]=(0,ur.useState)(()=>En(e,t)),r=(0,ur.useCallback)(n=>{let i=JSON.stringify(n);localStorage.setItem(e,i)},[e]);return[o,r]}var Ot=d(W());var bl="wuk326o",yl="n283lgw",hl="pue1ity";var We=d(C()),xl=.1,Vt=me.panelPadding,Mn=9999999999999;function gd(e,t){let n=t.width-e.width,i=t.height-e.height;return{minX:0,minY:0,maxX:n,maxY:i}}function Cl(e){let t=e.trim(),o=parseInt(t);return L(o)?t.endsWith("%")?{value:o,unit:"%"}:t.endsWith("px")?{value:o,unit:"px"}:null:null}var go=class extends Ot.default.Component{constructor(){super(...arguments);T(this,"containerRef",Ot.default.createRef());T(this,"contentWrapperRef",Ot.default.createRef());T(this,"setContainerRefs",o=>{this.containerRef.current=o;let{containerRef:r}=this.props;r&&(r.current=o)});T(this,"setContentWrapperRefs",o=>{this.contentWrapperRef.current=o;let{contentWrapperRef:r}=this.props;r&&(r.current=o)});T(this,"hasMoved",!1);T(this,"dragStartRect",null);T(this,"getConstraintsRect",()=>{let o=this.containerRef.current;return o?o.getBoundingClientRect():null});T(this,"getWindowRect",()=>{let o=this.getConstraintsRect();if(!o)return null;let r=this.contentWrapperRef.current;if(!r)return null;let n=r.getBoundingClientRect();return{x:n.left-o.x,y:n.top-o.y,width:n.width,height:n.height}});T(this,"onDragStart",o=>{this.dragStartRect=this.getWindowRect(),this.hasMoved=!1});T(this,"onDrag",o=>{if(!this.dragStartRect)return;let r=this.getWindowRect();if(!r)return;let{width:n,height:i}=r;!this.hasMoved&&o.offset.x===0&&o.offset.y===0||(this.hasMoved=!0,this.setRect({...Qr.add(o.offset,this.dragStartRect),width:n,height:i},{rubberBandingEnabled:!0,snapToEdges:!0,fixedTop:!1}))});T(this,"onDragEnd",o=>{this.dragStartRect&&(this.dragStartRect=null,this.hasMoved&&(this.setFloatingWindowProperties({x:0,y:0,transition:"transform 0.2s cubic-bezier(0.2, 0, 0, 1)"}),this.props.onDragEnd?.()))});T(this,"persistCurrentTopOffset",()=>{let o=this.getWindowRect();o&&this.setFloatingWindowProperties({fixedTop:o.y,top:1,bottom:0})});T(this,"hasPersistedTopOffset",()=>{let o=this.containerRef.current?.style.getPropertyValue("--floating-window-fixed-top"),r=parseInt(o||"");return L(r)&&r!==Mn})}componentDidMount(){let{restorationKey:o}=this.props;if(!o)return;let r=En(o,vl);r&&this.setFloatingWindowProperties(r)}render(){let{initialTopOffset:o,initialLeftOffset:r,visible:n,className:i,zIndex:a,constraintBy:l}=this.props,s=Mn,c=0,u=1,p=0,h=1;if(k(o)){let f=Cl(o);f&&(f.unit==="%"?(c=oo(0,100,f.value),u=100-f.value):f.unit==="px"?(s=f.value,c=1,u=0):(f.unit,void 0))}if(k(r)){let f=Cl(r);f?.unit==="%"&&(p=oo(0,100,f.value),h=100-f.value)}let y=`calc(${s}px - var(--framerInternalUI-chromeMarginTop) - ${Vt}px)`;return(0,We.jsxs)("div",{ref:this.setContainerRefs,className:v(yl,i),style:{position:"absolute",top:`calc(var(--framerInternalUI-chromeMarginTop) + ${Vt}px)`,left:l==="app"?`${Vt}px`:`calc(var(--framerInternalUI-chromeMarginLeft) + ${Vt}px)`,right:l==="app"?`${Vt}px`:`calc(var(--framerInternalUI-chromeMarginRight) + ${Vt}px)`,bottom:`calc(var(--framerInternalUI-chromeMarginBottom) + ${Vt}px)`,display:"flex",visibility:n?"visible":"hidden",flexDirection:"row",zIndex:a},children:[(0,We.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-left, ${p})`}}),(0,We.jsxs)("div",{style:{width:"auto",display:"flex",flexDirection:"column"},children:[(0,We.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-top, ${c})`,maxHeight:`var(--floating-window-fixed-top, ${y})`}}),(0,We.jsx)("div",{ref:this.setContentWrapperRefs,onPointerDownCapture:this.props.onPointerDownCapture,draggable:!1,className:v(hl,Sn),style:{position:"relative",height:"auto",width:"auto",maxHeight:"100%",flexShrink:0,transform:"translate(var(--floating-window-x, 0px), var(--floating-window-y, 0px))",transition:"var(--floating-window-transform)"},children:(0,We.jsx)(Pl.Provider,{value:this,children:this.props.children})}),(0,We.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-bottom, ${u})`}})]}),(0,We.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-right, ${h})`}})]})}setPosition(o,{snapToEdges:r}){let n=this.getConstraintsRect(),i=this.getWindowRect();if(!i||!n)return;let a=Qr.subtract(o,n);this.setRect({...a,width:i.width,height:i.height},{rubberBandingEnabled:!1,fixedTop:!0,snapToEdges:r})}setRect(o,{rubberBandingEnabled:r,snapToEdges:n,fixedTop:i}){let a=this.getConstraintsRect();if(!a)return;let{minX:l,minY:s,maxX:c,maxY:u}=gd(o,a),p=o.x,h=o.y;if(n){let g=Math.abs(p-l),m=Math.abs(p-c),I=Math.abs(h-s),E=Math.abs(h-u);g<16?p=l:m<16&&(p=c),I<16?h=s:E<16&&(h=u)}let y=0,f=0;p<=l?(p=0,y=o.x-l):p>=c&&(y=o.x-c),h<s?(h=s,f=o.y-s):h>=u&&(f=o.y-u);let P=0,x=0;r&&(P=y*xl,x=f*xl);let b=Td({...o,x:p,y:h},a);this.setFloatingWindowProperties({top:i?1:b.top,bottom:i?0:b.bottom,fixedTop:i?b.top:void 0,right:b.right,left:b.left,x:P,y:x,transition:""})}setResizeRect({top:o,right:r,bottom:n,left:i}){this.setFloatingWindowProperties({top:o,right:r,bottom:n,left:i,fixedTop:void 0,x:0,y:0,transition:""})}setFloatingWindowProperties(o){let r=this.containerRef.current;if(!r)return;let n={};L(o.top)&&(n["--floating-window-top"]=o.top.toString()),L(o.right)&&(n["--floating-window-right"]=o.right.toString()),L(o.bottom)&&(n["--floating-window-bottom"]=o.bottom.toString()),L(o.left)&&(n["--floating-window-left"]=o.left.toString()),L(o.fixedTop)?n["--floating-window-fixed-top"]=`${o.fixedTop}px`:n["--floating-window-fixed-top"]=`${Mn}px`,L(o.x)&&(n["--floating-window-x"]=`${o.x}px`),L(o.y)&&(n["--floating-window-y"]=`${o.y}px`),k(o.transition)&&(n["--floating-window-transform"]=o.transition);let i=Object.keys(n);for(let l of i){let s=n[l];r.style.setProperty(l,s)}let{restorationKey:a}=this.props;if(a&&vl(o,{strict:!1})){let l={top:o.top,bottom:o.bottom,left:o.left,right:o.right,fixedTop:o.fixedTop},s=JSON.stringify(l);localStorage.setItem(a,s)}}};T(go,"defaultProps",{visible:!0,constraintBy:"canvas"});var bd="top",yd="right",hd="bottom",xd="left",Cd="fixedTop",vd="x",Pd="y",wd="transition";function vl(e,{strict:t}={strict:!0}){if(!ro(e)||t&&(vd in e||Pd in e||wd in e)||!L(e[bd])||!L(e[yd])||!L(e[hd])||!L(e[xd]))return!1;let o=e[Cd];return L(o)||z(o)}var Pl=Ot.default.createContext(null),wl=Ot.default.forwardRef(function(t,o){let r=Ot.default.useContext(Pl);return(0,We.jsx)(Me,{ref:o,...t,className:v(t.className,bl,Sn),onDragStart:r?.onDragStart,onDrag:r?.onDrag||ir,onDragEnd:r?.onDragEnd,cursor:"-webkit-grabbing"})});function Td(e,t){let o=e.y,r=o+e.height,n=e.x,i=n+e.width,a=o,l=n,s=t.height-r,c=t.width-i;return{top:a,bottom:s,left:l,right:c}}var Ke=d(W());var ge=d(W()),kl=d(C()),Fn=(0,ge.createContext)(()=>()=>{});function Tl(e,t){let o=(0,ge.useContext)(Fn),[r,n]=(0,ge.useState)(!1);return(0,ge.useLayoutEffect)(()=>o(i=>{n(()=>e?e.some(a=>i.variantOverrideKeys.has(a)):t?t.some(a=>i.variantOverrideTraitTypes.has(a)):!1)}),[e,t,o]),r}function Il(){let e=(0,ge.useContext)(Fn),[t,o]=(0,ge.useState)({variantOverrideKeys:new Set,variantOverrideTraitTypes:new Set});return(0,ge.useLayoutEffect)(()=>e(r=>{o(r)}),[e,o]),t}function Rl({children:e,variantOverrideTraitTypes:t,variantOverrideKeys:o}){let r=(0,ge.useRef)(),n=(0,ge.useMemo)(()=>{let i=new Set;return{listeners:i,addListener:a=>{i.add(a);let l=r.current;return l&&a(l),()=>{i.delete(a)}}}},[]);return(0,ge.useLayoutEffect)(()=>{let i={variantOverrideTraitTypes:t,variantOverrideKeys:o};r.current=i,n.listeners.forEach(a=>a(i))},[n,o,t]),(0,kl.jsx)(Fn.Provider,{value:n.addListener,children:e})}var dr="pvjhuxd",Sl="pcpv5lz",Vl="p1awmd8";var Nl=d(W()),fr=(0,Nl.createContext)(null);var et=d(W());function Dn(e){switch(e){case"DeprecatedDrafts":case"ImageCrop":case"ImageFocalPoint":case"QuickActions":case"UpsellEnterprise":return!0;default:return!1}}function Dg(e){return Dn(e)?25:22}var Ml=d(C());function El({children:e}){let t=Bs(),o=kd();return(0,Ml.jsx)(As,{mode:o?"darkOnDarkModal":t,children:e})}function Id(){let t=_o().stores.chromeStore.useState(o=>o.mainView);return gl(t)}function Rd(){return!1}var kd=Ko?Rd:Id;var De,ve,Kt=class{constructor({triggerRender:t,willOpen:o,willPush:r,willPop:n}){Xr(this,De,[]);Xr(this,ve,-1);T(this,"triggerRender");T(this,"willOpen");T(this,"willPush");T(this,"willPop");T(this,"present",(t,o,{parent:r,triggerRef:n,displayDivider:i,title:a,className:l,onDismiss:s,onPresent:c,educationTooltipId:u,educationText:p,onClickEducation:h,enterAnimationDisabled:y,toolbarAction:f,autoFocusInside:P})=>{if(t&&this.isPresenting(t,{atIndex:0})){ue(this,ve)===0?this.close():(this.setStackIndex(0),this.willOpen?.(n?.current));return}if(r){let x=this.indexForItem(r);if(x===-1)return null;Vo(this,De,ue(this,De).slice(0,x+1)),c?.(),this.willPush?.()}else this.setStackIndex(-1),c?.(),this.willOpen?.(n?.current);ue(this,De).push({id:t,timestamp:Date.now(),element:o,triggerRef:n,displayDivider:i,title:a,className:l,onDismiss:s,onPresent:c,dismissed:!1,educationTooltipId:u,educationText:p,onClickEducation:h,enterAnimationDisabled:y,toolbarAction:f,autoFocusInside:P}),this.setStackIndex(ue(this,ve)+1)});T(this,"updatePopout",(t,o,r,n)=>{if(this.isClosed())return;let i=this.indexForItem(t);if(i===-1)return;let a=ue(this,De)[i];if(!a)return;let l=a.element,s=a.title,c=a.autoFocusInside;l===o&&s===r&&c===n||(a.element=o,a.title=r,a.autoFocusInside=n,i<=ue(this,ve)&&requestAnimationFrame(this.triggerRender))});T(this,"isPresenting",(t,o)=>{if(this.isClosed())return!1;let r=this.indexForItem(t);return!(r<0||r>ue(this,ve)||o&&o.atIndex!==r)});T(this,"isOpen",()=>ue(this,ve)>-1);T(this,"isClosed",()=>!this.isOpen());T(this,"close",()=>{this.setStackIndex(-1)});T(this,"dismiss",t=>{let o=this.indexForItem(t);o!==-1&&ue(this,ve)>=o&&(this.willPop?.(),this.setStackIndex(o-1))});T(this,"goBack",(t=!1)=>{let o=this.stack[0];if(this.willPop?.(),this.setStackIndex(ue(this,ve)-1),t&&this.currentStackIndex===-1){let r=o?.triggerRef?.current;r instanceof HTMLElement&&r.focus()}});T(this,"indexForItem",t=>ue(this,De).findIndex(o=>o.id===t));T(this,"setStackIndex",t=>{let o=Math.max(-1,t);ue(this,ve)!==o&&(ue(this,De).forEach((r,n)=>{n<=t||r.dismissed||(r.dismissed=!0,r.onDismiss?.())}),Vo(this,ve,o),o<0&&Vo(this,De,[]),this.triggerRender(),this.listeners.forEach(r=>r()))});T(this,"listeners",new Set);T(this,"registeredPopouts",{});T(this,"shouldPresentPopoutIds",new Set);T(this,"registerPopout",(t,o)=>{this.registeredPopouts[t]=o,this.shouldPresentPopoutIds.has(t)&&(o(),this.shouldPresentPopoutIds.delete(t))});T(this,"deregisterPopout",t=>{delete this.registeredPopouts[t];let o=this.indexForItem(t);o===-1||ue(this,ve)<o||this.setStackIndex(o-1)});T(this,"popoutIsRegistered",t=>t in this.registeredPopouts);T(this,"presentPopout",t=>{if(this.isPresenting(t,{atIndex:0}))return;let o=this.registeredPopouts[t];Pt(o)?o():this.presentPopoutOnRegistration(t)});T(this,"presentPopoutOnRegistration",t=>{this.shouldPresentPopoutIds.has(t)||(this.shouldPresentPopoutIds.add(t),setTimeout(()=>{this.shouldPresentPopoutIds.delete(t)},100))});this.triggerRender=t,this.willOpen=o,this.willPush=r,this.willPop=n}get stack(){return ue(this,De)}get currentStackIndex(){return ue(this,ve)}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}};De=new WeakMap,ve=new WeakMap;var Fl="pjkind9",Wl="c1l0qpj8";var Nt=d(C()),Vd={x:10,y:0};function Dl({navigationRef:e,anchorRef:t,children:o,attachTo:r="right",offset:n=Vd,onKeydown:i,onCopy:a,fallbackToModalAppearance:l,showArrow:s=!0}){let c=M(),u=et.default.useRef(i);u.current=i;let p=Ed(),[h,y]=et.default.useState(0),[f]=et.default.useState(()=>new Kt({triggerRender:()=>y(m=>m+1)})),P=f.isOpen(),x=et.default.useCallback(m=>{de(c)&&c.stores.mouseStore.setModifiers(m.nativeEvent),m.key==="Escape"&&(f.goBack(!0),m.stopPropagation()),u.current?.(m)},[f]),b=et.default.useCallback(m=>{de(c)&&c.stores.mouseStore.setModifiers(m.nativeEvent)},[]);et.default.useEffect(()=>{if(e)return Pt(e)?(e(f),()=>{e(null)}):(e.current=f,()=>{e.current=null})},[f,e]),et.default.useEffect(()=>{if(!(!P||!a))return document.addEventListener("copy",a),document.addEventListener("cut",a),()=>{document.removeEventListener("copy",a),document.removeEventListener("cut",a)}},[P,a]);let g=et.default.useMemo(()=>({...n}),[h,n]);return(0,Nt.jsxs)(fr.Provider,{value:f,children:[o,P&&(0,Nt.jsx)(El,{children:(0,Nt.jsx)(zs,{anchor:t.current,alignSelf:"center",attachTo:r,offset:g,onClose:f.close,className:Fl,onKeyDown:x,onKeyUp:b,focusTrapEnabled:!p,showArrow:s,arrow:s?{anchor:t.current}:void 0,fallbackToModalAppearance:l,children:(0,Nt.jsx)("div",{className:v(Wl),children:(0,Nt.jsx)(rr,{stack:f.stack,currentIndex:f.currentStackIndex,onBack:f.goBack,onClose:f.close})})})})]})}function Od(){let e=_o(),t=e.stores.pluginStore.useState(r=>r.activePlugin?r.activePlugin.modeHandlers.mode!=="canvas":!1),o=e.stores.modalStore.useState(r=>Dn(r.active.type));return t||o}function Nd(){return!1}var Ed=Ko?Nd:Od;var tt=d(C()),Ll="data-is-popout-button",Gl=`[${Ll}]`;function Md({popout:e,navigationTitle:t,navigationClassName:o,id:r,enabled:n=!0,displayDivider:i,onBeforePresent:a=()=>!0,onPresent:l=()=>{},onDismiss:s=()=>{},ref:c,educationTooltipId:u,educationText:p,onClickEducation:h,enterAnimationDisabled:y=!1,autoFocusInside:f,displayInPopover:P}){let x=Wd(r),b=Ke.default.useRef(null),g=c??b,m=Ke.default.useContext(Zs),I=Ke.default.useContext(fr),[E,O]=Ke.default.useState(!1),S=J(),F=qs(),N=Il(),B=Gs(P),A=Bl((0,tt.jsx)(Ls.Provider,{value:B,children:(0,tt.jsx)(_s.Provider,{value:F,children:(0,tt.jsx)(qt.Provider,{value:S,children:(0,tt.jsx)(Rl,{variantOverrideKeys:N.variantOverrideKeys,variantOverrideTraitTypes:N.variantOverrideTraitTypes,children:e})})})})),R=Bl(t);I?.updatePopout(x,A,R,f);let X=mo(s),he=mo(l),U=mo(()=>{if(I){if(!n||!a()){I.close();return}I.present(x,A,{parent:m,triggerRef:g,displayDivider:i,title:R,className:o,onDismiss:X,onPresent:he,educationTooltipId:u,educationText:p,onClickEducation:h,enterAnimationDisabled:y,autoFocusInside:f})}}),Y=mo(()=>{I?.dismiss(x)});return Ke.default.useEffect(()=>{if(!n||!I)return;let q=()=>{Oo.isTest||O(I.isPresenting(x))};return I.addListener(q),I.registerPopout(x,U),()=>{I.removeListener(q),I.deregisterPopout(x)}},[x,n,I]),{present:U,dismiss:Y,isPresenting:E,ref:g}}function Bl(e){let t=Ke.default.useRef(e);return Eo(e,t.current)||(t.current=e),t.current}function zl({popoverNavigationRef:e,displayInPopover:t,popoverAttachmentEdge:o,fallbackToModalAppearance:r,popoverOffset:n,showArrow:i,onPopoverKeydown:a,onPopoverCopy:l,...s}){let c=Ke.default.useRef(null),u=(0,tt.jsx)(Fd,{displayInPopover:t,...s,ref:c});return t?(0,tt.jsx)(Dl,{navigationRef:e,anchorRef:c,attachTo:o,onKeydown:a,onCopy:l,offset:n,fallbackToModalAppearance:r,showArrow:i,children:u}):u}var Fd=Ke.default.forwardRef(function({id:t,large:o,popout:r,displayDivider:n,navigationTitle:i,navigationClassName:a,className:l,onKeyDown:s,onClick:c,tabIndex:u=0,enabled:p=!0,useFrescoButton:h=!1,withoutStyles:y=!1,frescoButtonProps:f={},onBeforePresent:P,onPresent:x,onDismiss:b,educationTooltipId:g,educationText:m,onClickEducation:I,autoFocusInside:E,togglePopoutEnabled:O=!1,displayInPopover:S,...F},N){let{present:B,dismiss:A,isPresenting:R}=Md({popout:r,id:t,displayDivider:n,navigationTitle:i,navigationClassName:a,enabled:p,onBeforePresent:P,onPresent:x,onDismiss:b,ref:N,educationTooltipId:g,educationText:m,onClickEducation:I,autoFocusInside:E,displayInPopover:S}),X=le=>{switch(le.key){case"Enter":case" ":B(),le.preventDefault();break;case"Escape":le.currentTarget.blur(),A();break}},he=_t(u),U=p===!1,Y={role:"button",ref:N,tabIndex:U?void 0:he,"aria-selected":R?"true":"false",className:v(l,!h&&!y&&v(dr,U&&Sl,o&&Vl)),onKeyDown:Al(X,s),[Ll]:!0,...F},q=O&&R?c:Al(B,c);return h?(0,tt.jsx)(He,{enabled:p,...f,...Y,onClick:q}):(0,tt.jsx)("div",{id:t,...Y,onClick:q})});function _l(e){return e instanceof HTMLElement?!!e.closest(Gl):!1}function gb(e){return e.querySelector(Gl)}function bb(e){return document.getElementById(e)}function Wd(e){let t=Ke.default.useRef(e);return e&&t.current!==e?t.current=e:t.current||(t.current=Ma()),t.current}function Al(e,t){return t?o=>{e(o),t(o)}:e}var ql="wrgelve";var xt=d(W()),$l=d(C()),Hl="resize-zone",Pb=xt.default.memo(({side:e,minSize:t,defaultSize:o,maxSize:r,getSize:n,setSize:i,onResizeStart:a,onResizeEnd:l})=>{let[s,c]=xt.default.useState("ew-resize");xt.default.useEffect(()=>{requestAnimationFrame(()=>{let f=typeof r=="function"?r():r,P=Ul(n(),t,f,e);s!==P&&c(P)})},[]);let u=xt.default.useRef(),p=xt.default.useCallback(()=>{u.current=n(),a&&a()},[n,a]),h=xt.default.useCallback(f=>{if(u.current===void 0)return;let P=e==="left"?-1:1,x=e==="top"?f.offset.y:f.offset.x,b=u.current+x*P;Math.abs(b-o)<10&&(b=o),i(b);let g=typeof r=="function"?r():r,m=Ul(n(),t,g,e);s!==m&&c(m)},[o,t,r,e,i,n,s,c]),y=xt.default.useCallback(()=>{u.current=void 0,l&&l()},[l]);return(0,$l.jsx)(Me,{onDragStart:p,onDrag:h,onDragEnd:y,cursor:s,className:Hl,style:{cursor:s,position:"absolute",top:Bd(e),bottom:0,right:Ld(e),left:Ad(e),width:e==="top"?void 0:6,height:e==="top"?6:void 0,zIndex:26,transform:"translate3d(0, 0, 0)",opacity:.5}})});function Bd(e){switch(e){case"top":return-3;default:return 0}}function Ad(e){switch(e){case"left":return-3;case"top":return 0}}function Ld(e){switch(e){case"right":return-3;case"top":return 0}}function Kl(e){return e instanceof HTMLDivElement&&e.classList.contains(Hl)}function Ul(e,t,o,r){if(r==="top")switch(e){case t:return"s-resize";case o:return"n-resize";default:return"ns-resize"}switch(e){case t:return r==="right"?"e-resize":"w-resize";case o:return r==="right"?"w-resize":"e-resize";default:return"ew-resize"}}var bo=d(C()),Zl="data-is-popover-window",Mb=`[${Zl}="true"]`,Bn=class{constructor(){T(this,"navigation");T(this,"floatingWindowRef",ot.default.createRef());T(this,"initialWindowTopOffset","0px");T(this,"initialWindowLeftOffset","100%");T(this,"positionWindowNearElement",t=>{if(!(t instanceof HTMLElement))return;let o=this.floatingWindowRef.current,r=t.getBoundingClientRect(),n=r.top-9;o?o.setPosition({x:r.left,y:n},{snapToEdges:!1}):(this.initialWindowTopOffset=`${n}px`,this.initialWindowLeftOffset=r.left<window.innerWidth-r.right?"0%":"100%")});T(this,"persistCurrentTopOffset",()=>{let t=this.floatingWindowRef.current;t&&(t.hasPersistedTopOffset()||t.persistCurrentTopOffset())});T(this,"isOpen",()=>this.navigation.isOpen());T(this,"close",()=>{this.navigation.close()});T(this,"_rerender");T(this,"rerender",()=>this._rerender?.());T(this,"navigationBarWrapper",t=>(0,bo.jsx)(wl,{children:t}));T(this,"Component",ot.default.memo(({zIndex:t,visible:o,onPointerDownCapture:r})=>{let n=M(),i=cr();(0,ot.useEffect)(()=>(this._rerender=i,()=>{this._rerender=void 0}),[i]);let a=this.navigation.isOpen();ot.default.useEffect(()=>{if(!a)return;let u=!1,p=()=>{u=!0},h=y=>{u&&this.closeIfClickedOutside(y)};return document.addEventListener("mousedown",p,{capture:!0}),document.addEventListener("click",h),()=>{document.removeEventListener("mousedown",p,{capture:!0}),document.removeEventListener("click",h)}},[a]);let l=(0,ot.useCallback)(u=>{de(n)&&n.stores.mouseStore.setModifiers(u.nativeEvent),!u.defaultPrevented&&u.key==="Escape"&&(this.navigation.goBack(!0),u.stopPropagation())},[]),s=(0,ot.useCallback)(u=>{de(n)&&n.stores.mouseStore.setModifiers(u.nativeEvent)},[]);return!a||!this.navigation.stack[this.navigation.currentStackIndex]?null:(0,bo.jsx)(go,{ref:this.floatingWindowRef,zIndex:t,visible:o,onPointerDownCapture:r,initialTopOffset:this.initialWindowTopOffset,initialLeftOffset:this.initialWindowLeftOffset,children:(0,bo.jsx)("div",{className:v(ql,this.navigation.stack[this.navigation.currentStackIndex]?.className),onKeyDown:l,onKeyUp:s,onMouseUp:u=>{de(n)&&n.stores.canvasMouseTarget.handleMouseUp(u)},tabIndex:0,[Zl]:!0,children:(0,bo.jsx)(rr,{stack:this.navigation.stack,currentIndex:this.navigation.currentStackIndex,onBack:this.navigation.goBack,onClose:this.navigation.close,renderNavigationBarWrapper:this.navigationBarWrapper})})})}));T(this,"closeIfClickedOutside",({target:t})=>{Kl(t)||_l(t)||Gd(t)&&this.navigation.close()});this.navigation=new Kt({triggerRender:this.rerender,willOpen:this.positionWindowNearElement,willPush:this.persistCurrentTopOffset,willPop:this.persistCurrentTopOffset})}};function Gd(e){return e instanceof HTMLElement?!!e.closest("[data-is-right-panel]")||!!e.closest("[data-is-analytics]"):!1}var Jl=new Bn;var mr=d(W()),Xl=d(C()),An=(0,mr.createContext)(void 0);An.displayName="ImagePluginPickerButtonContext";function Db({component:e,children:t}){return(0,Xl.jsx)(An.Provider,{value:e,children:t})}function jl(){return(0,mr.useContext)(An)}var gr=d(W()),zd={},Yl=(0,gr.createContext)(zd);Yl.displayName="ControlPropRowContext";function Ab(){let e=(0,gr.useContext)(Yl);if(!e)throw new Error("useControlPropRows must be used within a ControlPropRowContext.Provider");return e}function zb(e){return(e.cache.ancestorRepeaterIds?.length??0)>0}function _b(e,t){let{ancestorRepeaterIds:o}=t.cache;if(!o)return!1;for(let r of o){let n=e.get(r);if(un(n))return!0}return!1}function qb(e,t){let{repeatedAncestorRepeaterIds:o}=t.cache;if(!o)return!1;for(let r of o){let n=e.get(r);if(un(n))return!0}return!1}var Ln=d(W()),Ql=Ln.default.createContext(!1),Hb=Ql.Provider;function ec(){return Ln.default.useContext(Ql)}function br(e=!0){let t=M(),o=ec();return Ht(()=>!de(t)||o||!e?null:t.stores.treeStore.variableProviderInfo,[o,e],"VariableProviderInfo")}function tc(e,t){let{id:o,providerId:r=t?.fallbackProvider}=e;return!t||!r?{variable:void 0,providerId:r}:{variable:t.combined.get(r)?.find(n=>n.id===o),providerId:r}}var fe="dt2vdl5",yr="dc4gvpv",oc="s1dpgfha";var _d={track:!0};function yo(e){let t={...e,event:"variable_reference_delete"};Ni(t,_d)}var _n=d(W());function qd(e){if(dn(e))return e.resolveValue("name")||"Component";if(Qi(e)&&e.dataIdentifier){let t=dt.dataForIdentifier(e.dataIdentifier);if(t)return Mo(t.name)}return e.resolveValue("name")||Ha(e)}function Ud(e){return ea(e)?"List":Do(e)?"Page":dn(e)?"Component":""}function hr(e,t,o="long"){if(t===Fa)return"Localization";let r=e.get(t);if(!r)return"Unknown";let n=qd(r),i=Ud(r);return o==="type"?i:n===i?n:`${n} ${i}`}var rc="by3f1yf",nc="b1locfei",ic="ck79ln6",ac="ikobvuw",sc="tz41s9a",lc="c11k2f3d";var D=d(C());function zn(e,t){switch(e){case"string":return(0,D.jsx)(Es,{foreground:t});case"richtext":return(0,D.jsx)(Os,{foreground:t});case"number":case"scrollsectionref":return(0,D.jsx)(Qo,{foreground:t});case"boolean":return(0,D.jsx)(hs,{foreground:t});case"color":return(0,D.jsx)(Ps,{foreground:t});case"image":return(0,D.jsx)(Rs,{foreground:t});case"eventhandler":return(0,D.jsx)(Xo,{foreground:t});case"controlReference":case"nodePropertyControlReference":return(0,D.jsx)(jo,{foreground:t});case"link":return(0,D.jsx)(ks,{foreground:t});case"linkrelvalues":return(0,D.jsx)(Yo,{foreground:t});case"date":return(0,D.jsx)(ws,{foreground:t});case"enum":return(0,D.jsx)(jo,{foreground:t});case"file":return(0,D.jsx)(wn,{foreground:t});case"customcursor":case"cursor":return(0,D.jsx)(Jo,{foreground:t});case"slug":return(0,D.jsx)(Tn,{foreground:t});case"transition":return(0,D.jsx)(Fs,{foreground:t});case"border":return(0,D.jsx)(xs,{foreground:t});case"boxshadow":return(0,D.jsx)(Ns,{foreground:t});case"gap":return(0,D.jsx)(Is,{foreground:t});case"padding":return(0,D.jsx)(Vs,{foreground:t});case"borderradius":return(0,D.jsx)(Cs,{foreground:t});case"collectionreference":return(0,D.jsx)(vs,{foreground:t});case"multicollectionreference":return(0,D.jsx)(Ss,{foreground:t});case"array":return(0,D.jsx)(ys,{foreground:t});case"trackingid":return(0,D.jsx)(Ms,{foreground:t});case"vectorsetitem":return(0,D.jsx)(Ws,{foreground:t});default:return Ie(e,"Missing icon for variable type")}}function cc(e,t){if(e.id===co)return(0,D.jsx)(Cn,{isVariable:!0,foreground:t});if(e.id===po)return(0,D.jsx)(xn,{isVariable:!0,foreground:t});if(ma(e))return(0,D.jsx)(Ts,{foreground:t});if(zo(e)){let o=wa(e);return o?.id===co?(0,D.jsx)(Cn,{isVariable:!0,foreground:t}):o?.id===po?(0,D.jsx)(xn,{isVariable:!0,foreground:t}):(0,D.jsx)(Tn,{foreground:t})}if(e.type==="controlReference"||e.type==="nodePropertyControlReference"){let{expectedType:o}=e;switch(o){case"enum":case"segmentedenum":return(0,D.jsx)(jo,{foreground:t});case"file":return(0,D.jsx)(wn,{foreground:t});default:Ie(o,`iconForVariable(), unsupported file reference type: ${o}`)}}return zn(e.type,t)}var nt=d(C());function Kd(e){return Se(e)?Oe(e)==="boolean":e==="boolean"}function $d(e,t,o){if(o.combined.size<=1)return!1;let r=o.combined.keys();for(let n of r){if(n===t.id)continue;let i=e.getNode(n);if(pn(i)&&i.dataIdentifier===t.dataIdentifier)return!0}return!1}function Zd(e,t,o){if(!t||!o||o.combined.size<=1)return;let r=e.get(t);if(!(!pn(r)||!$d(e,r,o)||o.combined.keys().next().value===t))return" ("+hr(e,t,"type")+")"}function Jd(e){let t=Ta(e);return t||e.name||"Unknown"}function jd(e,t,o,r,n,i,a){if(r)return Kd(o)?"Condition":"Transform";if(!t)return"Missing";let l=n?"Not ":"",s=Jd(t),c=Zd(e,i,a)??"";return l+s+c}function Xd(e,t,o){if(o)return(0,nt.jsx)($o,{});if(e)return cc(e);let r=Array.isArray(t)?t[0]:t;return w(r),zn(r)}function Yd(e){return e?.id!==Ua}var zy=_n.default.memo(_n.default.forwardRef(function(t,o){let r=M(),{expectedType:n,reference:i,onRemove:a,className:l,onClick:s,hasError:c,isComputedValue:u=!1,isNegated:p=!1,buttonTitle:h,preview:y,...f}=t,P=J(),x=br(),{variable:b,providerId:g}=tc(i,x),m=Yd(b);function I(N){a&&r.stores.contextMenuStore.show([{label:"Remove",enabled:!P,click:()=>{a(i),yo({variableId:b?.id,variableType:b?.type})}}],{location:{x:N.clientX,y:N.clientY}})}let E=r.scheduler.wrapHandler(()=>{de(r)&&b&&g&&m&&ll(r,b.id,g)}),O=N=>{!a||P||(N.stopPropagation(),a(i),yo({variableId:b?.id,variableType:b?.type}))},S=jd(r.tree,b,n,u,p,g,x),F=y??Xd(b,n,u);return(0,nt.jsxs)(Ee,{ref:o,role:"button",direction:"row",alignItems:"center",className:v(rc,fe,s||m?ic:void 0,c&&nc,l),tabIndex:0,onContextMenu:I,paddingLeft:4,gap:0,onClick:b?s??E:void 0,title:h??S,...f,children:[(0,nt.jsx)(Qe,{className:ac,children:F}),(0,nt.jsx)(tr,{size:6}),(0,nt.jsx)("div",{className:v(yt,sc),children:S}),a&&!P&&(0,nt.jsx)(Qe,{className:lc,onClick:O,onMouseDown:Qd,title:"Remove",children:(0,nt.jsx)(Zo,{})})]})}));function Qd(e){e.stopPropagation()}var xr=d(dd());function ef(e,t){return t.some(o=>{o==="*"&&(o="*/*");let r=xr.default.parse(o);if(!r){let n=Vn(o);r=n?xr.default.parse(n):null}return r?(r.type==="*"||r.type===e.type)&&(r.subtype==="*"||r.subtype===e.subtype):!1})}function tf(e,t){if(t.length===0)return!0;let o=Vn(e)??e,r=xr.default.parse(o);return r&&ef(r,t)?!0:t.some(n=>n==="*"||n==="*/*"||e===n||e===`.${n}`)}function pc(e,t){return e.type!=="file"?!1:(w(t,"allowedFileTypes should always be defined for ControlType.File"),e.allowedFileTypes.every(({extension:o})=>tf(o,t)))}function qn(e,t){return!e||!t||ft(e)||Wo(e)?!1:(_e(e)||Ie(e),w(e.startValue.id===t.id),t.type==="boolean"&&e.transforms[0]?.name==="negate")}function Un(e,t){return qn(e,t)&&e.transforms.length===1}var ho=d(W());var uc="tzsvjdc",dc="t1ehb6cn";var be=d(C()),rf=ho.default.createContext(void 0);function fc({delay:e,direction:t,interactive:o=!0,icon:r,className:n,initialVisibility:i,...a}){let l=ho.default.useRef(null),s=ho.default.useContext(rf),{triggerProps:c,tooltipProps:u}=or({className:uc,direction:t,interactive:o,offset:5,triggerRef:l,offsetXRef:s,delay:e,initialVisibility:i});return(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)(Qe,{...c,className:n,ref:l,children:r}),(0,be.jsx)(Hn,{...a,...u})]})}function Hn(e){return ho.default.useEffect(()=>{if(e.image){let t=new Image;t.src=e.image,t.alt=e.title,t.decode?.().catch(pt)}},[e.image,e.title]),(0,be.jsx)(Ks,{...e,tint:e.tint??_.panelBackground,children:(0,be.jsxs)(Ee,{gap:me.panelPadding,direction:"column",children:[e.image&&(0,be.jsx)("div",{children:(0,be.jsx)("img",{src:e.image,alt:e.title,width:"100%",style:{borderRadius:5,marginBottom:5,aspectRatio:"1.75"},decoding:"async"})}),e.title&&(0,be.jsx)(In,{className:dc,style:{fontWeight:Xa.weight.heading},children:(0,be.jsx)(fo,{children:e.title})}),(0,be.jsx)("div",{children:(0,be.jsx)(In,{children:(0,be.jsx)(fo,{children:e.text})})}),e.actions]})})}var Tc=d(W());var mc="tl8565r",dh=me.panelPadding,fh="bvc2uw9",mh="b1k2nl76",gh="b1i3g548",bh="c77pepd",yh="wnwbz2t",hh="w16ew1wl",xh="r16cr7hr",Ch="b1lo74ig",nf="b1119pfk",vh="b13iwexl",Ph="p1c7z6za",wh=v(mc,"b1eca53j");var Th="cs3azl6",Ih="a1qeto7i",gc=v(mc,nf,"b8y1dyl"),Rh="wg2hdtb",kh="s1ha7gxb",Sh="pcukmgx",Vh="p1sb4uyz",Oh="ecrz0ka";var bc="i7d4cn1",yc=v(gc,"e1otabne"),hc="bhul7u3";var xc="https://app.framerstatic.com/a11y-O773ZVIY.png";var Cc="https://app.framerstatic.com/rem-typography-BHML23FR.jpg";var vc="https://app.framerstatic.com/scroll-targets-2PADIE7F.jpg";var Pc="https://app.framerstatic.com/template-page-image-dark-K2Y4MA57.png";var wc="https://app.framerstatic.com/template-page-image-light-2NW7Z5XL.png";var we=d(C());var Ic=e=>{Ne("ui_interaction",{page:"education-tooltip",id:e})},df=e=>{switch(e){case"templatePage":return{title:"Template Page",actionText:"Watch Video",text:"Layout changes made to this page apply to all pages of the selected CMS collection.",image:{dark:Pc,light:wc},href:"https://www.framer.com/academy/lessons/cms-pages-dynamic-content",type:"button"};case"remTypography":return{title:"REM Typography",actionText:"Watch Video",text:"This is the base value per Breakpoint when using REM sizing in your typography.",image:Cc,href:"https://youtu.be/DGPCFIKUDb8",type:"icon"};case"accessibility":return{title:"Accessibility Tips",actionText:"Learn More",image:xc,text:"Learn about the tools Framer gives you to add meaning to the elements of your website.",href:"https://www.framer.com/learn/accessibility/",type:"icon"};case"scrollTargets":return{title:"Scroll Sections",actionText:"Watch Video",href:"https://www.youtube.com/watch?v=AG1ZEij8Vcw",image:vc,text:"Learn how to create links that smoothly scroll to a specific section within your page.",type:"icon"};default:Ie(e)}};function ff({href:e,actionText:t,tooltipId:o,content:r,image:n}){return(0,we.jsx)(fc,{icon:(0,we.jsx)(Qe,{className:bc,title:"",children:(0,we.jsx)(ts,{})}),direction:"right",actions:e?(0,we.jsx)(Ds,{as:"a",href:e,target:"_blank",onClick:()=>Ic(o),children:t}):void 0,...r,image:n})}function mf({href:e,actionText:t,tooltipId:o,content:r,image:n}){let i=(0,Tc.useRef)(null),{triggerProps:a,tooltipProps:l}=or({className:hc,direction:"top",interactive:!0,offset:5,triggerRef:i,delay:"short",initialVisibility:!1,tint:_.panelBackground,alignSelf:"right"});return(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)(He,{ref:i,variant:"default",enabled:!0,className:yc,"aria-expanded":l.visible,onClick:a.onPointerEnter,...a,children:[(0,we.jsx)(ns,{}),"Template Page"]}),(0,we.jsx)(Hn,{title:r.title,text:r.text,actions:(0,we.jsx)(He,{variant:"default",onClick:()=>{Ic(o),js(e)},"aria-expanded":l.visible,children:t}),image:n,...l})]})}function Rc({tooltipId:e}){let{isDarkMode:t}=St(),{actionText:o,href:r,type:n,...i}=df(e),a;return typeof i.image=="string"?a=i.image:i.image&&"dark"in i.image&&"light"in i.image&&(a=t?i.image.dark:i.image.light),(0,we.jsx)(n==="icon"?ff:mf,{href:r,actionText:o,tooltipId:e,content:i,image:a})}var Be=d(W());var kc="ib75oye",Sc="dnxepni";var Kn=d(C());function Vc(){let e=J();return(0,Kn.jsx)("div",{title:"Drag to reorder or remove",className:v(kc,e&&Sc),children:(0,Kn.jsx)(es,{})})}function Oc(e){return e.tree.getNodes(e.stores.selectionStore.ids).every(Yi)}function Nc(e,t,o=void 0){if(!t&&!o)return!1;let r=e.tree.getNodes(e.stores.selectionStore.ids),n=Ea.overrideKeys(e.tree,r,!0);return ml(n,t,o)}function Ec(e,t,o=void 0){sl(e.tree,e.tree.getNodes(e.stores.selectionStore.ids),t,o)}var Mc=d(W());function Fc(e){let t=M(),{supportsFetchDataValues:o,onSelectFetchDataValue:r}=e,n=J(),i=(0,Mc.useCallback)(()=>{if(o)return[{label:"Add Fetch",click:()=>{w(r);let a=r();Ne("fetch_computed_value_create",{outputType:a.outputType})},enabled:!n&&!(de(t)&&Ys(t.tree,t.stores.selectionStore.ids)),submenu:void 0}]},[r,n,o]);if(!(!o||!r))return i}var _c=d(W());function Dc(e){return e?.type==="transform"}function Tx(e){return e?.type==="unknownTransform"}function bf(e){return e?.type==="typeError"}function Ix(e){return bf(e)&&"key"in e}function it(e,t){return Se(t)?t.includes(e):e===t}function yf(e){let t=-1,o=-1;for(let i=0,a=e.length;i<a;i++){let l=e[i];l&&(l.name==="greaterThan"&&l.isNegated?t=i:l.name==="lessThan"&&!l.isNegated&&(o=i))}if(t===-1||o===-1)return;let r=e[t];w(r);let n=e[o];w(n),e[t]=n,e[o]=r}function vr(e,t){e.sort((o,r)=>o.outputType===r.outputType?0:o.outputType===t?-1:1),yf(e)}function Rx(e,t,o){let r=e.at(-1);if(!r)return;let n=Tt(r);if(n===o)return;let i=no(n);if(i)for(let a of i){let l=ze(a);if(l&&l.includes(o)){e.push(Gt({name:a,input:n,output:t??o}));return}}}var $n=2;function hf(e,t,o){let r=[{transformName:e,depth:1}],i=o==="boolean"&&t===o?1:$n,a=new Set;for(;r.length>0;){let{transformName:l,depth:s}=r.shift();if(a.has(l))continue;a.add(l);let c=ze(l);if(c){if(c.includes(o))return!0;if(i!==s&&!ln(l))for(let u of c){let p=no(u);if(p)for(let h of p)r.push({transformName:h,depth:s+1})}}}return!1}var Zn=(()=>{let e=new Map;return(t,o,r)=>{let n=t+o+r,i=e.get(n);if(Ai(i))return i;let a=hf(t,o,r);return e.set(n,a),a}})();function Cr({input:e,output:t,currentTransform:o,currentTransformOutput:r,transformBefore:n,variableConsumesNegated:i,supportedTransformNames:a}){let l=[];return a.forEach(s=>{let c=wt(s);if((!c||!c.includes(e))&&s!==o)return;let u=ze(s),p;if(u.includes(t))p=t;else if(r&&u.includes(r))p=r;else{if(!Zn(s,e,t))return;let f=ze(s);p=f.includes(t)?t:f[0]}n===s&&o!==s&&!sn(s)||n&&Ye(n)&&s==="negate"||!n&&i&&s==="negate"||(l.push({name:s,isNegated:!1,outputType:p}),Ye(s)&&l.push({name:s,isNegated:!0,outputType:p}))}),vr(l,t),l.length>0?l:null}function Wc(e,t,o){if(w(t>=0),t===0||t===1&&o)return null;let r,n=o?1:0;for(let i=t-1;i>=n;i--){let a=e[i];if(w(a),a.name==="negate"){r=a;continue}return r&&!Ye(a.name)?r:a}return w(r),r}function xf(e){if(!Ve(e))return e;for(let t of e)if(mt(t))return t;throw Error("Expected type must be a computed value type")}function Bc({mainInputType:e,inputControl:t,variableIsNegated:o,transforms:r,expectedType:n,propName:i,supportedTransformNames:a=Fo()}){let l=xf(n),s=e==="boolean",c={sections:[],errorBefore:null,errorAfter:null,transformAdditionOptions:[],variableIsNegated:o},u=it(e,n),p=e;if(r){let g=o?1:0;for(let m=g,I=r.length;m<I;m++){let E=Wc(r,m,o),O=r[m];if(w(O),!qi(O.name)){c.sections.push({type:"unknownTransform",transform:O});continue}let S=wt(O.name);if(w(S),!it(p,S)){let N=io(O.name,!1);m===0?c.errorBefore={type:"typeError",title:N,expected:S,received:p,replaceOptions:Cr({input:p,output:l,currentTransformOutput:null,currentTransform:null,transformBefore:null,variableConsumesNegated:s,supportedTransformNames:a})}:(w(E),c.sections.push({type:"typeError",key:`${O.id}-error`,title:N,expected:S,received:p,replaceOptions:Cr({input:p,output:l,currentTransformOutput:null,currentTransform:null,transformBefore:E.name,variableConsumesNegated:s,supportedTransformNames:a}),transformBefore:E,transformAfter:O}))}let F=c.sections[c.sections.length-1];if(O.name==="negate"&&F?.type==="transform"&&F.consumesNegated)F.isNegated=!F.isNegated;else{let N=Tt(O),B=u&&e!=="enum",A=c.sections.some(X=>{if(X.type!=="transform")return!0;let U=Tt(X.transform);return it(U,n)}),R=B||A||!!E;c.sections.push({type:"transform",transform:O,inputType:p,inputControl:g===m?t:void 0,consumesNegated:Ye(O.name),isNegated:!1,canBeDeleted:R,replaceOptions:Cr({input:p,output:l,currentTransformOutput:N,currentTransform:O.name,transformBefore:E?.name??null,variableConsumesNegated:s,supportedTransformNames:a})}),p=N}}}let h=r?Wc(r,r.length,o):null,y=h?h.name:null,f=y==="negate",P=y?Ye(y):!1,x=!it(p,n);return x&&(c.errorAfter={type:"typeError",title:i,expected:n,received:p,replaceOptions:Cr({input:p,output:l,currentTransformOutput:null,currentTransform:null,transformBefore:y,variableConsumesNegated:s,supportedTransformNames:a})}),Cf(c,h,n,x)&&(a.forEach(g=>{if(y===g&&!sn(g)||g==="negate"&&(!h||f||P))return;let m=wt(g);if(!m||!m.includes(p))return;let I=ze(g),E=I.find(O=>it(O,n))??I[0];it(p,n)&&!it(E,n)||ln(g)&&!it(E,n)||(c.transformAdditionOptions.push({name:g,isNegated:!1,outputType:E}),Ye(g)&&c.transformAdditionOptions.push({name:g,isNegated:!0,outputType:E}))}),vr(c.transformAdditionOptions,l)),c}function Cf(e,t,o,r){return r?!0:o==="boolean"?e.sections.every(n=>n.type!=="transform"):it("enum",o)?!t||!t.name?!0:!ze(t.name).includes("enum"):!0}function Ac(e,t,o){switch(o.name){case"equals":switch(t.name){case"equals":case"startsWith":case"endsWith":case"contains":case"lessThan":case"greaterThan":case"isAfter":case"isBefore":switch(e){case"string":case"boolean":case"number":case"enum":case"date":case"collectionreference":Zi(e,t.value)&&(o.value=t.value);break}}return;case"isAfter":case"isBefore":switch(t.name){case"isBefore":case"isAfter":case"equals":k(t.value)&&(o.value=t.value);break}break;case"lessThan":case"greaterThan":switch(t.name){case"lessThan":case"greaterThan":o.value=t.value;break;case"equals":L(t.value)&&(o.value=t.value);break}break;case"startsWith":case"endsWith":case"contains":switch(t.name){case"startsWith":case"endsWith":case"contains":case"equals":k(t.value)&&(o.value=t.value)}break;case"prefix":case"suffix":switch(t.name){case"prefix":case"suffix":o.value=t.value,o.valueLocalized=t.valueLocalized}break;case"isIncludedIn":switch(t.name){case"isIncludedIn":Se(t.value)&&t.value.every(k)&&(o.value=t.value)}break;case"containsAny":case"containsAll":switch(t.name){case"containsAny":case"containsAll":Se(t.value)&&t.value.every(k)&&(o.value=t.value)}break}}function vf(e,t,o){return o&&e.canCreateVariable(o)?[o]:Ve(t)?t.filter(r=>e.canCreateVariable(r)&&r!=="enum"):e.canCreateVariable(t)?[t]:[]}function Pf({engine:e,dynamicValue:t,canCreateVariable:o,variableType:r,variableCreationType:n,variableInfo:i,onCreateVariable:a,variableReferenceType:l,supportsComputedValues:s,collectionReferenceDataIdentifier:c,controlSourceIdentifier:u,vectorSetIdentifier:p,isReadOnly:h,controlKey:y,allowedFileTypes:f,displayTransformOptions:P,onSelectVariable:x,onSelectComputedValue:b,onRemoveDynamicValue:g,computedValuePopoutId:m,variableFilter:I}){let E=[],O=h||Xs(e,"canDesign");if(o){w(i,"variableInfo should be defined");let B=e.tree.getNodeWithTrait(i.idOfMutableVariableProvider,mn);w(B,"variableProviderNode should exist when creating variables");let A=vf(B,r,n);if(A.length===1){let R=A[0];w(nn(R),"onlyVariableType should be defined"),E.push({label:"Create Variable",enabled:!O,click:()=>{w(i.idOfMutableVariableProvider,"idOfMutableVariableProvider should exist when creating variables"),w(a,"onCreateVariable should be defined"),a(B.id,R)}})}else A.length>1&&E.push({label:"Create Variable",submenu:A.map(R=>({label:da(R),enabled:!O,click:()=>{w(i.idOfMutableVariableProvider,"idOfMutableVariableProvider should exist when creating variables"),w(a,"onCreateVariable should be defined"),a(B.id,R)}}))})}let S=Mf(e,i,r,l,s,c,p,u,y,f,P,I),F=Wf({variableInfo:i,compatibleVariablesByProvider:S,variableType:r,dynamicValue:t,variableReferenceType:l,collectionReferenceDataIdentifier:c,vectorSetIdentifier:p,controlSourceIdentifier:u,controlKey:y,allowedFileTypes:f,supportsComputedValues:s,onSelectVariable:x,onSelectComputedValue:b,onRemoveDynamicValue:g,readonly:O,variableFilter:I});F.length>0&&E.push({label:"Set Variable",submenu:F});let N=Af({variableInfo:i,dynamicValue:t,variableType:r,supportsComputedValues:s,onSelectComputedValue:b,computedValuePopoutId:m,displayTransformOptions:P,controlSourceIdentifier:u,controlKey:y,readonly:O});return N&&E.push(N),E}function qc(e){let t=M(),{variableType:o,variableCreationType:r,variableReferenceType:n,dynamicValue:i,onCreateVariable:a,onSelectVariable:l,onRemoveDynamicValue:s,collectionReferenceDataIdentifier:c,controlSourceIdentifier:u,vectorSetIdentifier:p,controlKey:h,allowedFileTypes:y,supportsComputedValues:f,onSelectComputedValue:P,displayTransformOptions:x=!0,computedValuePopoutId:b,variableFilter:g}=e,m=br(),{canCreateVariable:I,canAssignVariable:E}=wf(t,m,e),O=J(),S=(0,_c.useCallback)(()=>{if(m&&o)return Pf({engine:t,variableInfo:m,variableType:o,variableCreationType:r,variableReferenceType:n,supportsComputedValues:f,collectionReferenceDataIdentifier:c,controlSourceIdentifier:u,vectorSetIdentifier:p,controlKey:h,allowedFileTypes:y,displayTransformOptions:x,dynamicValue:i,onSelectComputedValue:P,onSelectVariable:l,isReadOnly:O,onRemoveDynamicValue:s,onCreateVariable:a,canCreateVariable:I,computedValuePopoutId:b,variableFilter:g})},[y,I,c,b,h,u,x,i,O,a,s,P,l,f,r,m,n,o,p,g]);return E?S:void 0}function wf(e,t,o){let n=!!o.supportsVariables&&Nf(t,o.variableType,o.variableReferenceType,o.supportsComputedValues,o.collectionReferenceDataIdentifier,o.vectorSetIdentifier,o.controlSourceIdentifier,o.controlKey,o.allowedFileTypes,o.variableFilter),i=e.tree.getNodeWithTrait(t?.idOfMutableVariableProvider,mn),l=Tf(i,o)&&!!o.onCreateVariable,s=n&&!!o.onSelectVariable;return{canCreateVariable:l,canAssignVariable:l||s}}function Tf(e,t){if(!e||!t.supportsVariables||!t.variableType)return!1;if(!Ve(t.variableType))return e.canCreateVariable(t.variableType);for(let o of t.variableType)if(e.canCreateVariable(o))return!0;return!1}function If(e){return ft(e)?e:Ki(e)?e.startValue:null}function Rf(e,t,o,r){if(e.type!=="controlReference"&&e.type!=="nodePropertyControlReference")return!1;let{entityIdentifier:n,controlKey:i,expectedType:a}=e;return n===fn?i===r:!o||!Gf(n,o)||i!==r?!1:Se(t)?t.includes(a):t===a}function kf(e,t){return e.type!=="vectorsetitem"||!t?!1:e.setModuleId===t}function Lc(e,t){let o=[{type:e,depth:1}];for(;o.length>0;){let{type:r,depth:n}=o.shift(),i=n===$n,a=Hi(r);if(a)for(let l of a){let s=wt(l);if(s)for(let c of s)t.has(c)||(t.add(c),nn(c)&&(i||o.push({type:c,depth:n+1})))}}}function Sf(e){return Ve(e)?Array.from(e).sort().join():e}var Uc=(()=>{let e=new Map;return t=>{let o=Sf(t),r=e.get(o);if(r)return r;let n=new Set;if(Ve(t))for(let i of t)Lc(i,n);else Lc(t,n);return e.set(o,n),n}})();function Hc(e,t){if(!e||!t)return;if(t===fn)return w(ia(e)),aa(e);let o=dt.reactComponentForIdentifier(t);if(o)return o.properties[e]}function xo(e,t,o,r){let n=k(e)?e:e.type;for(let i of Fo()){let a=wt(i);if(!a||!a.includes(n))continue;let l=ze(i),s=Ve(t)?t.find(u=>l.includes(u)):l.find(u=>u===t);if(!mt(s))continue;let c=Hc(o,r);return{outputType:s,valueTransform:Gt({name:i,input:e,output:c?.type===s?c:s})}}return null}function Vf(e,t,o,r,n){let i=xo(e,t,o,r);if(i)return Bt(i.outputType,n,[i.valueTransform]);let a=xo(e,"boolean",o,r),l=xo("boolean",t,void 0,void 0);if(a&&l)return Bt(l.outputType,n,[a.valueTransform,l.valueTransform]);let s=k(e)?e:e.type;throw new Error(`Could not generate computed value with input: ${s}, and output: ${Se(t)?t.join(", "):t}`)}function Of(e,t){for(let o of e)if(t.has(o))return!0;return!1}function Gc(e,t,o,r,n,i,a,l,s){if(e==="enum")return!i||!a?!1:t.enums.some(({variable:c,sourceIdentifier:u})=>Kc(c,u,i,a));if(s){for(let[c,u]of t.combined)if(t.variableSourceIdentifiers[c]&&u.some(s))return!0;return!1}return t.flatList.some(c=>Pr(c,void 0,e,o,r,n,i,a,l,s))}function Nf(e,t,o,r,n,i,a,l,s,c){if(!t||!e)return!1;if(Ve(t)){if(t.some(p=>Gc(p,e,o,n,i,a,l,s,c)))return!0}else if(Gc(t,e,o,n,i,a,l,s,c))return!0;if(r){let u=e.types,p=Uc(t);if(p&&Of(p,u))return!0}return!1}function Pr(e,t,o,r,n,i,a,l,s,c){return c&&!c(e)?!1:Se(o)?o.some(u=>Pr(e,t,u,r,n,i,a,l,s,c)):o==="collectionreference"?e.type==="collectionreference"&&e.dataIdentifier===n:o==="multicollectionreference"?e.type==="multicollectionreference"&&e.dataIdentifier===n:o==="vectorsetitem"?kf(e,i):o==="file"?pc(e,s):o==="controlReference"||e.type==="nodePropertyControlReference"?Rf(e,r,a,l):e.type==="enum"?Kc(e,t,a,l):e.type===o}function Kc(e,t,o,r){return t===o&&e.id===r}function $c(e,t,o){return!o||!t?!1:Uc(t)?.has(e.type)??!1}function Ef(e){let t={children:{}};for(let o of e){let r=o.id.split("."),n=t;for(let i of r)n.children??={},n=n.children[i]??={};n.variable=o}return t}function Mf(e,t,o,r,n,i,a,l,s,c,u,p){let h=[];function y(f,P,x,b,g){let m=[];if(b.includes(P)&&b.length>1)return m;for(let E in f){let O=f[E];if(!O)continue;let{variable:S,children:F}=O;if(z(S)||ba(S.id)&&!Do(g)||hn(S.id,co)||hn(S.id,po))continue;if(Pr(S,P,o,r,i,a,l,s,c,p)){m.push({variable:S,isNegated:!1,transforms:null}),n&&S.type==="boolean"&&m.push({variable:S,isNegated:!0,transforms:null});continue}let N;if(F&&S.type==="collectionreference"){let B=S.dataIdentifier;N=y(F,B,[...x,S.id],[...b,P],g)}if(!Pa(S.id)){if($c(S,o,n)){let B=Zc(S,o);if(!u){if(m.push({variable:S,isNegated:!1,transforms:null}),B){let A=B.valueTransformOptions.filter(R=>!an.has(R.name));n&&S.type==="boolean"&&A.length>0&&m.push({variable:S,isNegated:!0,transforms:null})}continue}if(B&&B.valueTransformOptions.length>0){m.push({variable:S,isNegated:!1,transforms:B.valueTransformOptions,compatibleNestedVariables:N});let A=B.valueTransformOptions.filter(R=>!an.has(R.name));n&&S.type==="boolean"&&A.length>0&&m.push({variable:S,isNegated:!0,transforms:A})}continue}N&&m.push({variable:S,isNegated:!1,transforms:null,compatibleNestedVariables:N})}}if(m.length!==0)return m}for(let[f,P]of t.combined){let{children:x}=Ef(P);w(x,"Variable tree should have children");let b=t.variableSourceIdentifiers[f];if(!b)continue;let g=e.tree.get(f),m=y(x,b,[],[],g);m&&h.push({providerId:f,providerTitle:hr(e.tree,f),compatibleVariables:m})}return h}function Ff(e,t,o,r,n){if(!_e(e)||!o||!t)return null;let a=Bc({mainInputType:o.type,inputControl:n,variableIsNegated:r,transforms:_e(e)?e.transforms:null,expectedType:t,propName:void 0}).sections.find(Dc);return a?{name:a.transform.name,isNegated:a.isNegated}:null}function zc(e){return e.transforms.find(t=>t.name!=="negate")}function Jn(e,t,o){if(!t||!o)return;let r=t.providerId??e.fallbackProvider;if(!r)return;let n=e.combinedControls.get(r)?.get(t.id);if(n)return n.type===o.type?n:void 0}function Wf({variableInfo:e,compatibleVariablesByProvider:t,variableType:o,dynamicValue:r,variableReferenceType:n,collectionReferenceDataIdentifier:i,vectorSetIdentifier:a,controlSourceIdentifier:l,controlKey:s,allowedFileTypes:c,supportsComputedValues:u,onSelectVariable:p,onSelectComputedValue:h,onRemoveDynamicValue:y,readonly:f,variableFilter:P}){let x=[],b=e.fallbackProvider,g=If(r),m=e.flatList.find(F=>g&&F.id===g.id),I=qn(r,m),E=Ff(r,o,m,I,Jn(e,g,m));function O(F,N,B){return F.map(A=>{let{variable:R,isNegated:X,transforms:he,compatibleNestedVariables:U}=A,Y=Lf(A,N,g,I,b),q=he?.map(G=>({label:io(G.name,G.isNegated),enabled:!f,checked:Y&&E?.name===G.name&&E.isNegated===G.isNegated,click:()=>le(G)}));if(U){w(R.type==="collectionreference"||R.type==="array","Invalid variable type");let G=R.type==="collectionreference"?R.dataIdentifier:B,xe=O(U,N,G),ke=ft(g)&&(g.providerId??b)===N&&va(g.id,R.id);if(U.length===1&&xe.length===1){let ne=U[0],ae=xe[0];if(ne&&zo(ne.variable)&&ae)return{label:R.name,checked:ke,click:ae.click}}return q&&xe.unshift(...q,{type:"separator"}),{label:R.name,checked:ke,submenu:xe}}function le(G=void 0){if(Y&&!G){r&&y?.(r),yo({variableId:R.id,variableType:R.type});return}let xe=rn(R.id,N);if(_e(r)&&r.transforms.length>0&&m?.type===R.type&&!Un(r,m)&&!G){let ae={...r,startValue:xe};if(X!==I){w(R.type==="boolean");let ce=Array.from(ae.transforms);ae.transforms=ce,X?ce.unshift(Rt()):(w(ce[0]?.name==="negate"),ce.shift())}h?.(ae);return}if(Pr(R,B,o,n,i,a,l,s,c,P)&&!G){if(X){w(R.type==="boolean"),h?.(Bt("boolean",xe,[Rt()]));return}p?.(rn(R.id,N),R.type),Ei({variableId:R.id,variableType:R.type});return}w($c(R,o,u),"Selected variable should be assignable using a computed value"),w(o,"Variable type should be defined");let ke=Jn(e,xe,R)??R.type,ne;if(G){let ae=Hc(s,l),ce=G.outputType,je=[Gt({name:G.name,input:ke,output:ae?.type===ce?ae:ce})];G.isNegated&&je.push(Rt());let $=Se(o)?o.find(mt):o;if(w(mt($)),G.outputType!==$){let pe=xo(G.outputType,$,s,l);pe&&je.push(pe.valueTransform)}ne=Bt($,xe,je)}else ne=Vf(ke,o,s,l,xe);if(_e(r)){let ae=zc(r),ce=zc(ne);if(ae&&ce){m?.type===R.type&&Ac(R.type,ae,ce);let Dt=Tt(ae),je=Tt(ce);if(Dt===je){let $=r.transforms.findIndex(ye=>ye===ae),pe=r.transforms.slice($+1);if(pe.length>0){let ye=ne.transforms.findIndex(Ur=>Ur===ce),vt=ne.transforms.slice(0,ye+1);vt.push(...pe),ne.transforms=vt}}}}X&&(w(R.type==="boolean"),ne.transforms=[Rt(),...ne.transforms]),h?.(ne),Ne("computed_value_create",{initialTransformName:ne.transforms[0]?.name,inputType:R.type,outputType:ne.outputType,source:"property_panel_row"})}return{label:(X?"Not ":"")+(R.name||"Unknown"),checked:Y,enabled:!f,click:()=>le(),submenu:q}})}let S=t.entries();for(let[F,{providerId:N,providerTitle:B,compatibleVariables:A}]of S){let R=e.variableSourceIdentifiers[N];if(!R)continue;let X=O(A,N,R);F===0?x.push(...X):(F===1&&x.push({type:"separator"}),x.push({label:B,submenu:X,checked:ft(g)&&(g.providerId??b)===N}))}return x}function Df(e,t){let o=new Map,r=no(e);if(!r)return o;for(let n of r){if(!Zn(n,e,t))continue;let a=ze(n),l=a.includes(t)?t:a[0];o.set(n,l)}return o}var Bf=(()=>{let e=new Map;return(t,o)=>{let r=t+o;if(e.has(r))return e.get(r);let n=Df(t,o),i=[];for(let[l,s]of n)l==="negate"&&t==="boolean"||(i.push({name:l,isNegated:!1,outputType:s}),Ye(l)&&i.push({name:l,isNegated:!0,outputType:s}));if(i.length===0){e.set(r,void 0);return}vr(i,o);let a={valueTransformOptions:i,outputType:o};return e.set(r,a),a}})();function Zc(e,t){if(!Ui(e.type))return;let o=Array.isArray(t)?t.find(mt):t;if(mt(o))return Bf(e.type,o)}function Af({variableInfo:e,dynamicValue:t,variableType:o,supportsComputedValues:r,onSelectComputedValue:n,computedValuePopoutId:i,displayTransformOptions:a,controlSourceIdentifier:l,controlKey:s,readonly:c}){if(!r||!n||!o||!t||Wo(t)||!a)return;let u=ft(t)?t:t.startValue,p=e.flatList.find(b=>b.id===u.id);if(!p)return;let h=Un(t,p),y=o==="boolean";if(_e(t)&&!h)return{label:`Edit ${y?"Condition":"Transform"}`,click:()=>{w(i),Jl.navigation.presentPopout(i)}};if(!ft(t)&&!h)return;let f=Zc(p,o);if(!f)return;let{valueTransformOptions:P,outputType:x}=f;return{label:`Add ${y?"Condition":"Transform"}`,submenu:P.map(b=>({label:io(b.name,b.isNegated),enabled:!c,click:()=>{let g=[];h&&g.push(Rt());let m=Jn(e,u,p),I=Gt({name:b.name,input:m??p.type,output:b.outputType});if(g.push(I),b.isNegated&&g.push(Rt()),k(o)&&b.outputType!==o){let O=xo(b.outputType,o,s,l);O&&g.push(O.valueTransform)}let E=Bt(x,u,g);n(E)}}))}}function Lf(e,t,o,r,n){return!o||o.id!==e.variable.id||e.isNegated!==r?!1:(o.providerId||n)===t}function Gf(e,t){if(e===t)return!0;let o=to(e);if(o?.kind!=="externalModuleExport")return e===t;let r=to(t);return r?.kind!=="externalModuleExport"?e===t:o.moduleId===r.moduleId&&o.exportSpecifier===r.exportSpecifier}var Jc="t3p7r61",jc="t1ih3ztb",Xc="wkaasce",Yc="w1vx93q9",Qc="wof63pb";var $e=d(C());function ep({title:e,className:t,displayPlusIcon:o,primaryMenuIsOpen:r,educationTooltip:n,disableTitleTooltip:i=!1,titleTooltip:a,overridden:l,...s}){return(0,$e.jsxs)("div",{className:v(Jc,o&&v(Xc,(r||l)&&Yc),t),title:e===" "||i?void 0:a??e,...s,children:[o&&(0,$e.jsx)(cs,{}),(0,$e.jsx)("div",{className:v(yt,jc,l&&Qc),children:(0,$e.jsx)(fo,{children:e})}),n&&(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(tr,{size:me.inputSpacing}),n]})]})}var tp="p1oxlfbn",op="w1xpzgm5",rp="w1chribc";var Co=d(C()),$t=({title:e,titleClassName:t,children:o,className:r,style:n,disableTitleTooltip:i=!1,titleTooltip:a,reorderColumnCount:l,reorderControlHidden:s,withButtonCursor:c=!1,displayPlusIcon:u=!1,isOverridden:p=!1,primaryMenuIsOpen:h=!1,onMouseDown:y,onContextMenu:f,ReorderControl:P,educationTooltip:x,...b})=>{let g=P!==void 0;g&&L(l)&&(n={...n,"--reorder-column-count":l});let m=f?{onContextMenu:f,role:"button"}:{},I=y?{onMouseDown:y,role:"button"}:{};return(0,Co.jsxs)("div",{className:v(tp,g&&op,r,c&&rp),style:n,tabIndex:-1,...m,...I,...b,children:[e&&(0,Co.jsx)(ep,{overridden:p,title:e,disableTitleTooltip:i,titleTooltip:a,className:t,displayPlusIcon:u,educationTooltip:x,onMouseDown:y,primaryMenuIsOpen:h}),o,g&&!s&&(0,Co.jsx)(P,{})]})};var jn=d(C());function Ze({onContextMenu:e,children:t,onAdd:o,onDelete:r,onResetToDefault:n,onCopy:i,onPaste:a,onSetAsDefault:l,deleteTitle:s,copyTitle:c,pasteTitle:u,addEnabled:p=!0,deleteEnabled:h=!0,pasteEnabled:y,copyEnabled:f,resetToDefaultEnabled:P,setAsDefaultVisible:x=!1,withReorderControl:b=!1,traitTypes:g,traitTypeKeys:m,variableType:I,variableCreationType:E,variableReferenceType:O,variableFilter:S=void 0,dynamicValue:F,onCreateVariable:N,onSelectVariable:B,onRemoveDynamicValue:A,supportsVariables:R=!1,collectionReferenceDataIdentifier:X,vectorSetIdentifier:he,controlSourceIdentifier:U,controlKey:Y,allowedFileTypes:q,supportsComputedValues:le=!1,onSelectComputedValue:G,displayTransformOptions:xe,computedValuePopoutId:ke,supportsFetchDataValues:ne,onSelectFetchDataValue:ae,educationTooltipId:ce,className:Dt,panelRowApiRef:je,...$}){let pe=M(),ye=J(),vt=Tl(m,g),[Ur,Pi]=Be.default.useState(!1),ld=qf(),ko=qc({variableType:I,variableCreationType:E,variableReferenceType:O,dynamicValue:F,onCreateVariable:N,onSelectVariable:B,onRemoveDynamicValue:A,supportsVariables:R,collectionReferenceDataIdentifier:X,vectorSetIdentifier:he,controlSourceIdentifier:U,controlKey:Y,allowedFileTypes:q,supportsComputedValues:ld&&le,onSelectComputedValue:G,displayTransformOptions:xe,computedValuePopoutId:ke,variableFilter:S}),So=Fc({supportsFetchDataValues:ne??!1,onSelectFetchDataValue:ae}),wi=!!ko||!!So,Hr=!!(o&&p&&!ye),Kr=!!(r&&h&&!ye),Ti=!!n,cd=(0,Be.useCallback)(async ct=>{let{clientX:Zr,clientY:Jr}=ct;(Hr||Kr||i||a||Ti||l&&x)&&(ct.preventDefault(),pe.stores.contextMenuStore.show([{label:c||"Copy",click:i,visible:!!i,enabled:Pt(f)?f():f},{label:u?await u():"Paste",click:a,visible:!!a,enabled:!ye&&(Pt(y)?await y():y)},{type:"separator"},{label:"Add",click:o,visible:Hr},{label:s||"Remove",click:r,visible:Kr},{label:"Reset to Default",click:n,enabled:!ye&&P,visible:!!n},{label:"Set as Default",click:l,enabled:!ye&&!!l,visible:!!l&&x}],{location:{x:Zr,y:Jr}}))},[Hr,Kr,i,a,Ti,l,x,c,f,u,ye,y,o,s,r,n,P]),$r=(0,Be.useCallback)(async(ct,Zr=!1)=>{let{target:Jr,currentTarget:Ii}=ct,Ri=de(pe)&&Oc(pe),pd=Ri&&!!(g||m);if(!Zr&&(!Hs.isLeftMouseClick(ct)||Jr!==Ii))return;let jr=ko?.();if(!ko&&!vt&&!So)return;let eo=[];jr&&eo.push(...jr);let ki=So?.();ki&&(jr&&eo.push({type:"separator"}),eo.push(...ki)),eo.push({type:"separator"},{label:"Reset Override",click(){de(pe)&&Ec(pe,g,m)},enabled:!ye&&Ri&&Nc(pe,g,m),visible:de(pe)&&pd});let Si=ct.currentTarget.getBoundingClientRect(),ud={x:Si.left,y:Si.bottom};Pi(!0),pe.stores.contextMenuStore.show(eo,{location:ud,onDone:()=>Pi(!1),submenuPlacement:"left-start"})},[g,m,ko,vt,So,ye]);return(0,Be.useImperativeHandle)(je,()=>({displayPrimaryMenu:ct=>$r(ct,!0)}),[$r]),(0,jn.jsx)($t,{withButtonCursor:vt||wi,displayPlusIcon:wi,onMouseDown:$r,isOverridden:vt,primaryMenuIsOpen:Ur,onContextMenu:e??cd,ReorderControl:b?Vc:void 0,educationTooltip:ce?(0,jn.jsx)(Rc,{tooltipId:ce}):void 0,className:Dt,...$,children:t})}var Xn=(0,Be.createContext)(!1);Xn.displayName="ComputedValuesSupportedContext";var FC=Xn.Provider;function qf(){return(0,Be.useContext)(Xn)}var np=d(W());function ip(e){let t=M(),{isDarkMode:o}=St(),r=Ut("ColorStyleTokens",()=>{if(Uo(e)){let a=al(t.tree,e.stops,o);return{name:void 0,value:e.updated({stops:a}).toCSS()}}else{let a=bt(e)?gt(e):null;if(!a)return null;let l=t.tree.get(a);return Bo(l)?{name:l.name,value:l.colorForMode(o)}:null}},[e,o]),n=r?.name,i=r?.value;return(0,np.useMemo)(()=>i?{name:n,value:i}:null,[n,i])}function HC(){let{isDarkMode:e}=St(),t=M();return Ht(()=>{let o=t.tree.getColorStyleTokenListNode();if(!o)return;let r={};for(let n of o.children)r[la(n)]=n.colorForMode(e);return r},[e],["ColorStyleTokens"],{deepEqual:!0})}var ap="c1avmyds",sp="lzm78je",lp="caoupms",cp="i3vlae9",pp="iyiuvk1";var vo=d(C());function Hf(e,t,o,r=_.swatchBorderPlaceholder,n="white"){let i={boxShadow:`inset 0 0 0 1px ${r}`,backgroundColor:n};return e.includes("gradient")||e.includes("url")?(i.backgroundImage=e,i.backgroundRepeat="no-repeat",i.backgroundSize="cover",i.backgroundPositionX=t??"center",i.backgroundPositionY=o??"center"):i.backgroundColor=e,i}function up({large:e,background:t,borderColor:o,backgroundPositionX:r,backgroundPositionY:n,defaultBackgroundColor:i}){let l=ip(t)?.value??t;return(0,vo.jsxs)("div",{className:v(ap,e&&sp),children:[(0,vo.jsx)("div",{className:v(lp)}),(0,vo.jsx)("div",{className:v(cp,e&&pp),style:Hf(l,r,n,o,i)})]})}var dp="wkxdsnf",fp="l2ga4t0";var mp=d(C());function H({large:e,borderColor:t,background:o=_.tint,color:r="#fff",children:n,className:i}){let a=t?`inset 0 0 0 1px ${t}`:void 0;return(0,mp.jsx)(Qe,{className:v(dp,e&&fp,i),style:{background:o,color:r,boxShadow:a},children:n})}var wr="i1ab0gin",gp="l19ygcxe",bp="i1mqt5la",Tr="t1bkmsxp",yp="t1vpcft3",hp="suf63yr",xp="c1hu2nje",Cp="leca1mf",Yn="d1ir7ssq",vp="sojarwo";var Pp="b11f2aom",wp="r1ihmrto",Tp="t8942cu",Ip="a11ph0ck";var V=d(C());function ee(e){switch(e){case"action":case"eventSuggestion":case"object":case"grid-guides":case"sizeConstraint":case"border":case"line":case"link":case"linkRelValues":case"customCursor":case"collectionFilter":case"collectionOrder":case"effect":case"pageEffectExit":case"spring":case"tween":case"font":case"preset":case"scrollSection":case"aiStyleUpsell":case"formDestination":case"transition":case"formSelectOption":case"pagination":case"textSelection":case"linkOptions":return _.swatchBackgroundPlaceholderForBorder;case"fill":return _.swatchBackgroundPlaceholderForFill;case"color":case"icon":case"stroke":case"shadow":return"transparent";case"mask":return`linear-gradient(180deg, ${_.maskEmptyGradientStop1} 0%, ${_.maskEmptyGradientStop2} 100%)`;default:Ie(e)}}function Jf(e){if(e==="mask")return"transparent"}function jf(e){return e==="action"?"Reset\u2026":e==="aiStyleUpsell"?"Upgrade\u2026":e==="pageEffectExit"?"Add Exit\u2026":"Add\u2026"}function Xf(e){return e==="action"?"Reset Override":e==="eventSuggestion"?"Add Interaction":`Add ${Mo(e)}`}function Tv({type:e,className:t,icon:o,...r}){let n=J();return(0,V.jsx)("div",{...r,className:v(fe,t,n&&wp),children:(0,V.jsxs)("div",{className:Pp,title:Xf(e),children:[(0,V.jsx)("div",{className:v(wr,n&&bp,(e==="action"||e==="eventSuggestion")&&Ip),children:o??(0,V.jsx)(Yf,{type:e})}),(0,V.jsx)("div",{className:v(yt,Tr,Tp),children:jf(e)})]})})}function Yf({type:e}){switch(e){case"action":case"eventSuggestion":return(0,V.jsx)(Xo,{});case"aiStyleUpsell":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(fs,{})});case"effect":case"pageEffectExit":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(os,{})});case"line":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(is,{})});case"link":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(us,{})});case"linkOptions":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(vn,{})});case"linkRelValues":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(Yo,{background:"transparent"})});case"grid-guides":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(rs,{})});case"sizeConstraint":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(ds,{})});case"pagination":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(as,{})});case"collectionFilter":return(0,V.jsx)(H,{background:ee(e),color:"transparent",children:(0,V.jsx)($o,{})});case"collectionOrder":return(0,V.jsx)(H,{background:ee(e),color:"transparent",children:(0,V.jsx)(ss,{})});case"spring":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(ms,{})});case"tween":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(Pn,{})});case"object":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(Qa,{})});case"font":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(bs,{})});case"scrollSection":return(0,V.jsx)(H,{color:ee(e),children:(0,V.jsx)(Qo,{})});case"customCursor":return(0,V.jsx)(H,{color:ee(e),children:(0,V.jsx)(Jo,{})});case"formDestination":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(vn,{})});case"formSelectOption":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(ps,{})});case"transition":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(Pn,{})});case"textSelection":return(0,V.jsx)(H,{background:ee(e),children:(0,V.jsx)(gs,{})});default:return(0,V.jsx)(up,{background:ee(e),borderColor:_.swatchBorderPlaceholder,defaultBackgroundColor:Jf(e)})}}var Rp=d(W());var Ae=d(C());function Ir({innerText:e,shortcutKey:t,onDelete:o,isReadOnly:r=!1}){return e?{innerText:e}:{shortcutKey:t,onDelete:r?void 0:o}}var Rr=({enabled:e,large:t,title:o,titleColor:r,shortcutKey:n,preview:i,deleteIconColor:a,swatchBackgroundColor:l,suggestion:s,onDelete:c,innerText:u})=>{let p=(0,Rp.useCallback)(y=>{y.stopPropagation(),c?.()},[c]),h=Ya(p);return(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:v(wr,t&&gp,e===!1&&Yn),style:{backgroundColor:l},children:i}),(0,Ae.jsxs)("div",{className:v(Tr,e===!1&&Yn,s&&vp),style:{color:r},children:[(0,Ae.jsx)("span",{className:v(yt,yp),children:o}),n&&(0,Ae.jsxs)("span",{className:hp,children:["\xA0(",n,")"]}),u]}),c&&(0,Ae.jsx)("div",{className:v(xp,t&&Cp),...h,style:{color:a},title:"Remove",children:(0,Ae.jsx)(Zo,{})})]})};var kr="bwfcdld",kp="b4uva9g",Sp="d1xdslsy",Vp="dpa1954";var Qn=d(C());function Lv({id:e,testId:t,popout:o,navigationTitle:r,navigationClassName:n,enabled:i,displayDivider:a,displayInPopover:l,popoverAttachmentEdge:s,popoverOffset:c,showArrow:u,fallbackToModalAppearance:p,title:h,innerText:y,shortcutKey:f,preview:P,suggestion:x,onDelete:b,onBeforePresent:g,onPresent:m,onDismiss:I,className:E,doubleColumn:O=!0,sortable:S=!1,large:F=!1,titleColor:N,deleteIconColor:B,swatchBackgroundColor:A,educationTooltipId:R,educationText:X,onClickEducation:he,onContextMenu:U,autoFocusInside:Y}){let q=J(),le=G=>{G.key==="Delete"&&b?.()};return(0,Qn.jsx)(zl,{id:e,large:F,enabled:i,popout:o,navigationTitle:r,navigationClassName:n,displayDivider:a,displayInPopover:l,autoFocusInside:Y,popoverAttachmentEdge:s,popoverOffset:c,showArrow:u,fallbackToModalAppearance:p,onBeforePresent:g,className:v(kr,F&&kp,O&&fe,S&&yr,i===!1&&Vp,E),onContextMenu:U,onKeyDown:le,onPresent:m,onDismiss:I,educationTooltipId:R,educationText:X,onClickEducation:he,"data-testid":t,children:(0,Qn.jsx)(Rr,{title:h,titleColor:N,deleteIconColor:B,swatchBackgroundColor:A,preview:P,suggestion:x,enabled:i,large:F,...Ir({innerText:y,shortcutKey:f,onDelete:b,isReadOnly:q})})})}var Et=d(W());var Po=[];function Ep(e){(0,Et.useEffect)(()=>(Po=[e,...Po],()=>{Po=Po.filter(t=>t!==e)}),[e])}function Hv({globalKeyBindings:e}){let t=(0,Et.useCallback)(n=>{let i=e.get(n);i&&(Ne("keyboard_shortcut",{shortcut:pr(n)}),i.action(n))},[e]),o=(0,Et.useCallback)(async n=>{qa(n)||n.clipboardData&&Nn(n.type,{event:n})},[]),r=(0,Et.useCallback)(async n=>{if(!n.defaultPrevented){for(let i of Po)if(await i(n),n.defaultPrevented)return;Nn(n.type,{event:n})}},[]);(0,Et.useEffect)(()=>(window.addEventListener("keydown",t),window.addEventListener("copy",o,!0),window.addEventListener("cut",o,!0),window.addEventListener("paste",r,!0),window.addEventListener("touchmove",Np,{passive:!1}),()=>{window.removeEventListener("keydown",t),window.removeEventListener("copy",o,!0),window.removeEventListener("cut",o,!0),window.removeEventListener("paste",r,!0),window.removeEventListener("touchmove",Np)}),[t,r,o])}function Np(e){e.touches.length>1&&(e.preventDefault(),e.stopPropagation())}var Mp=e=>e.stopPropagation();var Qf=/^0(?=\.)/u;function Sr(e){return(Math.trunc(e*100)/100).toString().replace(Qf,"")}function Fp(e=1){if(e===0)return"0";if(e===1)return"1.0";let t=e*100;return t%10===0?`.${t}`:Sr(e)}function Wp(e){let t=Sr(e.r),o=Sr(e.g),r=Sr(e.b);return`${t}, ${o}, ${r}`}var Je=e=>oo(0,100,Math.round(e*100)),Te=()=>{nr({type:"add",variant:"info",icon:"color-wheel",text:"Increase color opacity to see changes",key:"color-change-null-opacity",duration:300})};function lP(e,t,o){if(It(e)||z(e))return{title:o||"Add\u2026"};if(Da(e))return{title:"Linear"};if(Aa(e))return{title:"Radial"};if(Wa(e))return{title:"Conic"};if(!k(e)||e==="")return{title:"Mixed"};if(bt(e)){let n=gt(e),i=n?zt(n,t.tree):null;if(i)return{title:i.name};{let a=Lo(e);if(!a)return{title:"Unknown"};e=a}}if(re.isP3String(e)){let n=Ce.fromString(e);return n?{title:Wp(n),alpha:Fp(n.a)}:{title:"Unknown"}}let r=typeof e=="string"?re(e):null;return r?{title:re.toHex(r).toUpperCase(),alpha:r.a??1}:{title:"Unknown"}}function Dp(){let e=M();return Ut(["AssetMap"],()=>e.stores.assetStore.assetMap.hash)}function Vr(e){let t=ul();if(!t)return e;let o=t(e,{preferredSize:"small"});return o||e}function em(e,t){return Dp(),e?Vr(e):t}function hP(e,t){let o=em(e);return o?`url("${o}")`:t}var Ap=d(W()),at=null,tm=Vi("globalPreviewHandlers");function ei(e){tm.warn("Missing handler",e)}var om={reload:()=>{at?.reload?at.reload():ei("reload")},toggleConsole:()=>{at?.toggleConsole?at.toggleConsole():ei("toggleConsole")},openFullScreen:()=>{at?.openFullScreen?at.openFullScreen():ei("openFullScreen")}};function Bp(e){if(e===null){at=e;return}at??={},Object.assign(at,e)}function vP(){return om}function PP({reload:e,toggleConsole:t,openFullScreen:o}){Ap.default.useEffect(()=>(Bp({reload:e,toggleConsole:t,openFullScreen:o}),()=>Bp(null)),[e,t,o])}var Zt=d(W());function rm(e,t){let o=new Map,r=e.variables.filter(n=>n.type==="slug");for(let n of r){let i=new Set;o.set(n.id,i);for(let a of e.getUnsortedChildren()){if(a.id===t.id)continue;let l=a.getControlProp(n.id);l&&k(l.value)&&i.add(l.value)}}return o}function RP(e,t){let o=(0,Zt.useRef)(null),r=(0,Zt.useMemo)(()=>{if(!e||!t)return new Map;let n=rm(e,t),i=o.current;if(!i)return n;let a=new Map;for(let[l,s]of n){a.set(l,s);let c=i.get(l);c&&Gi(c,s)&&a.set(l,c)}return a},[e,t]);return(0,Zt.useEffect)(()=>{o.current=r},[r]),r}function Lp(e,t,o){if(Lt(e)&&e.fallbackValue!=="associatedVariable")return;let r=t.find(i=>i.id===e.associatedStringVariable&&Lt(i));if(!r)return;let n=o.getControlProp(r.id);return n&&k(n.value)?n.value:r.initialValue}function zp(e,t,o){let r=nm(t);return!o||!r?o:o.type==="collectionreference"&&k(o.value)&&!Gp(e,r,o.value)?{...o,value:void 0}:o.type==="multicollectionreference"&&Array.isArray(o.value)?{...o,value:o.value.filter(n=>Gp(e,r,n))}:o}function nm(e){if(e.type!=="collectionreference"&&e.type!=="multicollectionreference")return null;let t=to(e.dataIdentifier);return t?.kind!=="localModuleExport"?null:t.value}function Gp(e,t,o){let r=e.getNodeWithTrait(o,oa),n=r&&e.getNodeParent(r);return so(n)&&n.instanceIdentifier===t}function im(e,t,o,r,n,i,a){if(n==="associatedVariable"&&e==="string"){if(o&&k(o.value))return i&&!o.value&&!r?{type:"required"}:_p(o,t);if(i&&!r)return{type:"required"};if(!r||!gn(t))return;let{maxLength:c}=t;return L(c)&&r.length>c?{type:"max-length",message:ar(r.length,c)}:void 0}if(e==="slug"){let c;if(o&&tn(o.value)?c=lo(o.value):r&&(c=lo(r)),!c)return{type:"required"};if(w(a,"takenSlugs is required for slug fields"),a.has(c))return{type:"slug-taken",message:il}}let l=am(o,t,i);if(l)return l;let s=sm(o,t,i);return s||_p(o,t)}function QP(e,t){if(e)return e.type==="required"?ol(t.title):e.message}function am(e,t,o){if(!o)return;let{type:r}=t;switch(r){case"link":return e?(w(e.type==="link"),!e.value||e.value.type==="url"&&e.value.url===""?{type:"required"}:void 0):{type:"required"};case"richtext":return e?(w(e.type==="richtext"),w(!At(e.value),"Dynamic values are not supported within the CMS."),tl(e.value)?{type:"required"}:void 0):{type:"required"};case"image":case"responsiveimage":return e?(w(e.type==="image"),e.value===""?{type:"required"}:void 0):!Ra(t)||!t.__defaultAssetReference?{type:"required"}:void 0;case"string":return e?(w(t.type==="string"),!tn(e.value)?{type:"required"}:void 0):t.defaultValue?void 0:{type:"required"};case"collectionreference":{let n=Sa(t,e);return z(n)?{type:"required"}:void 0}case"multicollectionreference":{let n=Va(t,e);return At(n)?void 0:z(n)||n.length===0?{type:"required"}:void 0}case"file":case"date":return e?.type===r&&!!e.value?void 0:{type:"required"};case"array":{if(!e)return{type:"required"};w(e.type==="array");let n=ka(t,e);return w(!At(n),"Dynamic values are not supported within the CMS."),kn(n).length===0?{type:"required"}:void 0}default:return}}function _p(e,t){if(!gn(t))return;let{maxLength:o}=t;if(L(o))switch(t.type){case"string":{w(!e||e.type==="string");let r=t.defaultValue??"",n=e?.value&&k(e.value)?e.value:r;return n.length>o?{type:"max-length",message:ar(n.length,o)}:void 0}case"richtext":{if(!e||!k(e.value))return;let r=Ka(e.value);return r.length>o?{type:"max-length",message:ar(r.length,o)}:void 0}default:Ie(t)}}function sm(e,t,o){if(!ga(t)||Li(e?.value)&&!pa(e?.value)||_e(e?.value))return;let r=kn(e?.value);if(L(t.minCount)&&r.length<t.minCount)return!o&&r.length===0?void 0:{type:"min-count",message:rl(t)};if(L(t.maxCount)&&r.length>t.maxCount)return{type:"max-count",message:nl(t)}}function lm(e,t,o,r,n,i){let a=zp(e,n,t.getControlProp(o.id)),l,s;return(Lt(o)||Go(o))&&(l=Lp(o,r,t)),Lt(o)&&(s=o.fallbackValue),!!im(o.type,n,a,l,s,fa(o),i.get(o.id))}function cm(e){return e.variables.filter(t=>t.type!=="divider")}function ew(e,t,o,r){let n=t.getPropertyControls(e,dt);return cm(t).filter(a=>{let l=n[a.id];return l?lm(e,o,a,t.variables,l,r):!1})}function sw(e,t,o){for(let r of e.variables){if(r.type==="divider"||!Go(r))continue;let n=o.get(r.id);w(n,"existingSlugValueForVariable is required for slug fields");let i=t.getControlProp(r.id);if((!i||!k(i.value)||!i.value.length)&&r.associatedStringVariable){let l=t.getControlProp(r.associatedStringVariable);if(l&&k(l.value)){let s=lo(l.value);if(s.length&&!n.has(s))return t.setControlProp(r.id,{type:"string",value:s}),!0}}}return!1}function gw({collectionId:e,engine:t,saveAction:o,source:r}){let n=t.tree.getNodeWithTrait(e,so);w(n,"Collection needs to exist to allow creation of new item");let{contentManagementStore:i,treeStore:a,selectionStore:l}=t.stores,s=t.tree.getNodeWithTrait(l.ids[0],so);s&&s.id!==n.id&&w(o,"saveAction is required when creating a nested temporary item"),i.createTemporaryCollectionItem({collectionId:n.id,saveAction:o});let c=cl({treeStore:a,contentManagementStore:i,stackElement:i.getActiveTemporaryCollectionStackElement()});w(c),pm(n,c),dl(t)&&c.set({isDraft:!0}),Ne("collection_record_create",{source:r})}function pm(e,t){let o=new Date;for(let r of e.variables)r.type==="date"&&t.setControlProp(r.id,{type:"date",value:um(o,r.options?.displayTime)})}function um(e,t){return t?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0)).toJSON():new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toJSON()}function qp(e){return It(e)?void 0:e}var Jt=d(W());var Le=d(W());var ti=d(C()),Or=e=>{let t=M(),o=J(),{doubleColumn:r,sortable:n,tooltip:i,tabIndex:a=0,onDuplicate:l,onDelete:s,onPresent:c,onCopy:u,className:p,shortcutKey:h,innerText:y,...f}=e;function P(g){t.stores.contextMenuStore.show([{label:"Duplicate",click:l,enabled:!o,visible:!!l},{label:"Copy",click:u,visible:!!u},{label:"Remove",click:s,enabled:!o,visible:!!s}],{location:{x:g.clientX,y:g.clientY}})}let x=g=>{g.key==="Delete"&&s?.()},b=_t(a);return(0,ti.jsx)("div",{role:"button",title:i,onContextMenu:P,onClick:c,onKeyDown:x,tabIndex:e.enabled===!1?-1:b,className:v(kr,e.enabled===!1&&Sp,r&&fe,n&&yr,dr,p),children:(0,ti.jsx)(Rr,{...f,...Ir({innerText:y,shortcutKey:h,onDelete:s,isReadOnly:o})})})};var Up="i1oxwf0f",Hp="ivz66j7",oi="fjd4qd2",Kp="f1gixrvj";var $p="p1oi602g",Zp="s1rsxqtn",Jp="c17esauc";var te=d(C()),fm=["auto","lossless","small","medium","large","full"],mm={auto:"Auto",lossless:"Auto (Lossless)",small:"Small",medium:"Medium",large:"Large",full:"Full"};function Nr({multiple:e=!1,imageReferences:t,onChangeImages:o,onRemoveImage:r,onChangeAssetSize:n,extraControls:i,altText:a=Q,altTextPlaceholder:l,onChangeAltText:s,positionX:c,positionY:u,enableFooter:p=!0,maxExtraImages:h,onEditFocalPoint:y,clearFocalPoint:f,onCropClick:P,onImageBatchUpload:x}){let b=M(),g=jl(),m=J(),I=L(h)?h+1:void 0,[E,O]=Le.default.useState(!1),S=Le.default.useRef(null),F=Le.default.useCallback(()=>{m||o(On.pickAndUploadImage({multiple:e,maxUploads:I}).then(jp("upload")))},[o,m,e,I]),N=Le.default.useCallback($=>{($.key==="Backspace"||$.key==="Delete")&&!m&&r?.()},[r,m]),B=Le.default.useCallback($=>{m||$.dataTransfer&&x&&o(x($.dataTransfer.files,I).then(jp("drop")))},[o,m,I,x]),A=Le.default.useCallback($=>{$.preventDefault(),r&&b.stores.contextMenuStore.show([{label:"Delete",enabled:!m,click:r}],{location:{x:$.clientX,y:$.clientY}})},[m,r]),R=Le.default.useCallback(async $=>{if(m)return;let pe=S.current;if(!pe||document.activeElement!==pe)return;$.preventDefault();let ye=$.clipboardData;ye&&o(On.addImages(ye.files))},[o,m]);Ep(R);let X=Le.default.useCallback(()=>{O(!0)},[]),he=Le.default.useCallback(()=>{O(!1)},[]),U=t[0],{fileExtensions:Y,preferredSizes:q}=bm(t),le=t.length>0,G=Oe(t),xe=k(G)&&G.length>0,ke=!z(c)&&!z(u),ne=Y.has("svg"),ae=le&&q.size>0&&!ne,ce=Le.default.useCallback(()=>{U&&P?.(U,o)},[U,o,P]),Dt=()=>{w(k(G)&&G.length>0),y?.(G,qe(c)?c:void 0,qe(u)?u:void 0)},je=U&&Vr(U);return(0,te.jsxs)(Ee,{direction:"column",children:[(0,te.jsxs)($s,{className:v($p,U&&Zp),onDrop:B,onDragEnter:X,onDragLeave:he,onKeyDown:N,onDoubleClick:F,onContextMenu:A,children:[(0,te.jsx)("div",{ref:S,tabIndex:0,className:gm(E),children:(0,te.jsx)("img",{src:je,alt:"",decoding:"async"})}),!m&&(0,te.jsx)(He,{variant:"clean",title:e?"Choose Images\u2026":"Choose Image\u2026",onClick:F,onDoubleClick:Mp,className:Jp})]},U),(0,te.jsxs)(Ee,{direction:"column",gap:0,children:[!z(n)&&(0,te.jsx)($t,{title:"Resolution",children:(0,te.jsxs)(ht,{enabled:ae,wrapperClassName:fe,children:[(0,te.jsx)(Fe,{title:Y.size>1?"Mixed":"Auto",selected:!0,onSelect:ir,enabled:!1,visible:ne}),!ne&&!z(n)&&fm.map($=>(0,te.jsx)(Fe,{title:mm[$],identifier:$,selected:q.has($),onSelect:n},$))]})}),i,ao(a)&&!z(s)&&(0,te.jsx)($t,{title:"Alt Text",children:(0,te.jsx)(er,{value:k(a)?a:"",onChange:s,className:fe,placeholder:l??(ut(G)?"Mixed":"Describe Image\u2026"),enabled:le})}),!z(y)&&!z(f)&&(0,te.jsx)($t,{title:"Focal Point",children:(0,te.jsx)(Or,{doubleColumn:!0,onPresent:Dt,enabled:xe&&!m,onDelete:ke?f:void 0,title:ke?"Custom":"Add\u2026",titleColor:ke?void 0:_.inputLabel,tooltip:ke?"Edit Focal Point":"Add Focal Point",preview:(0,te.jsx)(H,{color:_.popupButtonPreviewIconPrimary,background:_.popupButtonPreviewIconBackground,children:(0,te.jsx)(uo,{})})})}),p&&(0,te.jsxs)(Ee,{direction:"row",className:Kp,children:[(0,te.jsx)("div",{className:oi,children:(0,te.jsx)(He,{title:"Crop",enabled:!m&&!!U,onClick:ce,className:oi})}),g&&(0,te.jsx)(g,{commonImageReference:G,onChangeImages:o,altText:a,onChangeAltText:s})]})]})]})}function gm(e){let t=v(Up),o=v(t,Hp);return v(e?o:t,"wantsNativeTextAction")}function jp(e){return t=>{let o=t[0]?Fi(t[0].filename)[1].toLowerCase():"";return Ne("insert_image",{imageExtension:o,source:`picker_${e}`}),t}}function bm(e){let t=new Set,o=new Set;return e.forEach(r=>{let n=No(r);n&&(t.add(n.preferredSize||"auto"),o.add(n.fileExtension))}),{preferredSizes:t,fileExtensions:o}}var ri=d(C());function Xp({multiple:e=!1,imageReference:t,onChange:o,onChangeAssetSize:r,altText:n=Q,altTextPlaceholder:i,onChangeAltText:a,onRemoveImage:l,positionX:s,positionY:c,onChangeFocalPosition:u,maxExtraImages:p,enableFooter:h=!0}){let y=M(),f=(0,Jt.useCallback)((g,m)=>lr(y,g,m),[]),P=(0,Jt.useCallback)(g=>{y.stores.modalStore.push({type:"ImageCrop",initialImage:g,onChange:o,source:"image_picker"})},[o]),x=(0,Jt.useMemo)(()=>{if(u)return(g,m,I)=>{y.stores.modalStore.push({type:"ImageFocalPoint",image:g,positionX:m,positionY:I,onChange:u,source:"properties"})}},[u]),b=(0,Jt.useMemo)(()=>{if(u)return()=>{u(void 0,void 0)}},[u]);return(0,ri.jsx)(Ee,{padding:`0 ${me.panelPadding}px ${me.panelPadding}px`,children:(0,ri.jsx)(Nr,{multiple:e,maxExtraImages:p,imageReferences:t?[t]:[],onChangeImages:o,onChangeAssetSize:r,altText:n,altTextPlaceholder:i,onChangeAltText:a,onRemoveImage:l,positionX:s,positionY:c,onImageBatchUpload:f,onCropClick:P,onEditFocalPoint:x,clearFocalPoint:b,enableFooter:h})})}var Qp=d(W());function Yp(e,t){let o={type:"image",value:void 0};e&&k(e.value)&&(o.value=e.value),ua(e)&&(o.valueLocalized=e.valueLocalized),Ji(e)&&(o.alt=e.alt),ji(e)&&(o.altLocalized=e.altLocalized);let r=Xi(e);return k(r.positionX)&&(o.positionX=r.positionX),k(r.positionY)&&(o.positionY=r.positionY),Object.assign(o,t),o}var eu=d(C());function CT({controlProp:e,onChange:t,onRemove:o,multiple:r=!1,maxExtraImages:n}){let i=k(e.value)?e.value:void 0,a,l,s,c=e.type==="responsiveimage";c&&(a=e.alt,l=k(e.positionX)?e.positionX:void 0,s=k(e.positionY)?e.positionY:void 0);let u=(0,Qp.useMemo)(()=>{if(i)return No(i)},[i]);function p(x,b){t(g=>Yp(g,x),b)}async function h(x){try{let b=await x;if(b.length===0)return;let g=b.filter(S=>S.filename!==""),[m,...I]=g;if(!m)return;let E;r&&I.length>0&&(E=I.map(S=>({type:"image",value:Rn(S)})));let O=ym(m,u);p(O,E)}catch(b){pt(b)}}function y(x){if(!i)return;let b=Wi(i,x);p({value:b})}function f(x){p({alt:x})}function P(x,b){p({positionX:x,positionY:b})}return(0,eu.jsx)(Xp,{multiple:r,maxExtraImages:n,imageReference:i,onChange:h,onChangeAssetSize:y,onChangeAltText:f,onRemoveImage:o,positionX:l,positionY:s,altText:a??Q,onChangeFocalPosition:c?P:void 0})}function ym(e,t){return{type:"image",value:Rn(e,e.preferredSize??t?.preferredSize),positionX:void 0,positionY:void 0}}function ST(e,t=Ia){let o=M();return Ut(["Tree","ActiveBundle"],()=>{let r=dt.dataForIdentifier(e),n=o.tree;return za(n,r,t)},[e,t])}function qT(){return{fillEnabled:Q,fillType:Q,fillColor:Q,fillImage:Q,fillImagePositionX:Q,fillImagePositionY:Q,fillImageTileSize:Q,fillImageAlts:Q,fillGradientCSS:Q,gradientFillSupported:!0,fillImageResize:new Set,fillImages:new Set,anyNodesWithFill:!1,anyNodesWithImageFill:!1,anyNodeWithNonOptionalFill:!1,onlyNodesSupportingImageFill:!0,onlyNodesSupportingFillImageAlts:!0}}function hm(e){return L(e)?e:1}function UT(e,t,o){if(ya(t)&&!($a(t)&&!t.colorable)){if(o.anyNodesWithFill=!0,xm(t)||(o.onlyNodesSupportingImageFill=!1),o.onlyNodesSupportingFillImageAlts&&!yn(e,t)&&(o.onlyNodesSupportingFillImageAlts=!1),t.fillType==="image"&&(o.fillImageResize.add(t.fillImageResize??"fill"),k(t.fillImage)&&o.fillImages.add(t.fillImage),(k(t.fillImage)||At(t.fillImage))&&(o.anyNodesWithImageFill=!0),Ue("fillImage",o,t),Ue("fillImagePositionX",o,t),Ue("fillImagePositionY",o,t),Ue("fillImageTileSize",o,t,hm),yn(e,t)&&Ca(t)&&(o.fillImageAlts=Cm(t.fillImageAlts,o.fillImageAlts))),ha(t)){let r;if(xa(t.fillType))switch(t.fillType){case"linear-gradient":{r=ni(t.fillLinearGradient);break}case"radial-gradient":{r=ni(t.fillRadialGradient);break}case"conic-gradient":{r=ni(t.fillConicGradient);break}default:Ie(t.fillType)}r&&(It(o.fillGradientCSS)?o.fillGradientCSS=r:o.fillGradientCSS!==r&&(o.fillGradientCSS=Xe)),bn(t)&&!t.fillEnabled||Ue("fillType",o,t)}else o.gradientFillSupported=!1;bn(t)?Ue("fillEnabled",o,t):o.anyNodeWithNonOptionalFill=!0,Ue("fillColor",o,t)}}function ni(e){if(e)return new Ba({stops:e.stops}).toCSS(90)}function xm(e){return!(Ga(e)||La(e)||ra(e)||na(e)||sa(e)&&e.fillType!=="image")}function Cm(e,t){if(ut(t))return t;let o=e??[];if(It(t))return o.map(n=>({id:n.id,image:n.image,alt:n.alt}));let r=t??[];return o.length!==r.length?Xe:(r.forEach((n,i)=>{let a=o[i];a&&(n.image!==a.image&&(n.image=Xe),n.alt!==a.alt&&(n.alt=Xe))}),r)}function tu(e){return z(e)?"":e}function YT(){return{altAttribute:Q,onlyNodesWithAltAttribute:!0}}function QT(e,t){if(!_a(e)){t.onlyNodesWithAltAttribute=!1;return}Ue("altAttribute",t,e,tu)}function lI(e,t,o){if(t.length===0)return;if(t.length>1){o.trackingIdAIPrompt=Xe;return}let r=t[0];if(r){if(cn(o.link)){let n=ou(e,{link:o.link,linkText:ru(r)});o.trackingIdAIPrompt=n||Q}if(o?.controlPropsWithIdentifier?.controlProps){let n=o.controlPropsWithIdentifier.controlProps,i,a;for(let l in n){let s=n[l];if(s)switch(s.type){case"string":case"richtext":k(s.value)&&(a=s.value);break;case"link":cn(s.value)&&(i=s.value);break}}for(let l in n){let s=n[l];if(!s||s.type!=="trackingid")continue;let c=ou(e,{link:i,linkText:a});s.trackingIdAIPrompt=c||Q}}}}function ou(e,{link:t,linkText:o,textContent:r}){let n=t?Oa(e,t):void 0;if(!o&&!r&&!n)return;let i='Generate a short (up to 30 characters) tracking id as a verb in kebab-case (e.g. "click-subscribe or click-login") where the text is leading over the link';return n&&(i+=` to "${n}"`),o&&(i+=` with the text "${o.replace(/"/gu,"'")}"`),r&&(i+=` that is a part of the following text "${r.replace(/"/gu,"'")}"`),i}function ru(e){return ta(e)?e.getTextContent():e.children?e.children.map(ru).join(" "):""}var ai=d(W());var nu="p4b05eq",iu="prqiyvj",au="p1c81r2w",su="p1ln12j8";var jt=d(C()),Pm=({preset:e,onSelect:t,selected:o})=>{let{isDarkMode:r}=St();return(0,jt.jsx)("button",{onClick:()=>t(e),className:v(au,o&&su),children:(0,jt.jsx)("img",{alt:e.name,className:v(iu),src:r?e.previewImageDark:e.previewImageLight,decoding:"async"})})},lu=({selectedPreset:e,onSelectPreset:t})=>(0,jt.jsx)(Ze,{title:"Preset",children:(0,jt.jsx)("div",{className:v(nu),children:Qs.map(o=>(0,jt.jsx)(Pm,{preset:o,onSelect:t,selected:e&&e.name===o.name||!1},o.name))})});var ii="dl1ddfs";var oe=d(C()),cu=["Focal Point","Top Left","Top Center","Top Right","Left","Center","Right","Bottom Left","Bottom Center","Bottom Right"];function Tm(e,t,o){return w(ao(e)),w(ao(t)),ut(e)||ut(t)?Xe:qe(e)||qe(t)?o?"Center":"Focal Point":o&&z(e)&&z(t)?"Focal Point":t==="top"?e==="left"?"Top Left":e==="right"?"Top Right":"Top Center":t==="bottom"?e==="left"?"Bottom Left":e==="right"?"Bottom Right":"Bottom Center":e==="left"?"Left":e==="right"?"Right":"Center"}function Im(e){return e.includes("Left")?"left":e.includes("Right")?"right":"center"}function Rm(e){return e.includes("Top")?"top":e.includes("Bottom")?"bottom":"center"}function km(e){return e.size>1?!0:!e.has("stretch")}function pu({title:e="",enabled:t=!0,hasImageVariable:o=!1,imageReferences:r,onChangeImagePosition:n,fillImagePositionX:i,fillImagePositionY:a,fillImageResize:l}){let s=M();if(!km(l))return null;let c=Oe(l),u=c==="fill";u||((z(i)||qe(i))&&(i=c==="tile"?"left":"center"),(z(a)||qe(a))&&(a=c==="tile"?"top":"center"));let p=Tm(i,a,o),h=p==="Focal Point",y=r?Oe(r):Q;function f(){w(k(y)),s.stores.modalStore.push({type:"ImageFocalPoint",image:y,positionX:qe(i)?i:void 0,positionY:qe(a)?a:void 0,onChange:n,source:"properties"})}let P=g=>{if(g==="Focal Point"){o?n(void 0,void 0):f();return}let m=Im(g),I=Rm(g);n(m,I)},x=k(y),b=[];return ut(p)&&(b.push((0,oe.jsx)(Fe,{selected:!0,title:"Mixed"},"mixed")),b.push((0,oe.jsx)(Fe,{type:"divider"},"mixed-divider"))),cu.forEach((g,m)=>{g==="Focal Point"&&(!u||!o&&!x&&!h)||(b.push((0,oe.jsx)(Fe,{title:g,onSelect:P,identifier:g,selected:p===g},m)),m%3===0&&b.push((0,oe.jsx)(Fe,{type:"divider"},m+"divider")))}),(0,oe.jsx)(Ze,{title:e,children:!o&&h&&x?(0,oe.jsx)(oe.Fragment,{children:(0,oe.jsx)(Or,{doubleColumn:!0,enabled:t,title:"Focal Point",tooltip:"Edit Focal Point",onPresent:f,onDelete:()=>P("Center"),preview:(0,oe.jsx)(H,{className:v(!t&&ii),color:_.popupButtonPreviewIconPrimary,background:_.popupButtonPreviewIconBackground,children:(0,oe.jsx)(uo,{})})})}):(0,oe.jsx)(ht,{enabled:t,wrapperClassName:fe,preview:(0,oe.jsx)(H,{className:v(!t&&ii),color:p==="Focal Point"?_.popupButtonPreviewIconPrimary:void 0,background:_.popupButtonPreviewIconBackground,children:p==="Focal Point"?(0,oe.jsx)(uo,{}):(0,oe.jsx)(Sm,{selectedOption:p,optionItems:cu,firstPositionKey:"Top Left"})}),children:b})})}function Sm({selectedOption:e,optionItems:t,firstPositionKey:o}){let r=t.indexOf(o);w(r!==-1);let n=k(e)?t.indexOf(e)-r:-1;return(0,oe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",children:Array(3).fill(null).map((i,a)=>(0,oe.jsxs)("g",{transform:`translate(3 ${3+6.5*a})`,children:[(0,oe.jsx)("path",{d:"M 1.5 0 C 2.328 0 3 0.672 3 1.5 C 3 2.328 2.328 3 1.5 3 C 0.672 3 0 2.328 0 1.5 C 0 0.672 0.672 0 1.5 0 Z",fill:n===a*3?_.popupButtonPreviewIconPrimary:_.popupButtonPreviewIconSecondary}),(0,oe.jsx)("path",{d:"M 8 0 C 8.828 0 9.5 0.672 9.5 1.5 C 9.5 2.328 8.828 3 8 3 C 7.172 3 6.5 2.328 6.5 1.5 C 6.5 0.672 7.172 0 8 0 Z",fill:n===1+a*3?_.popupButtonPreviewIconPrimary:_.popupButtonPreviewIconSecondary}),(0,oe.jsx)("path",{d:"M 14.5 0 C 15.328 0 16 0.672 16 1.5 C 16 2.328 15.328 3 14.5 3 C 13.672 3 13 2.328 13 1.5 C 13 0.672 13.672 0 14.5 0 Z",fill:n===2+a*3?_.popupButtonPreviewIconPrimary:_.popupButtonPreviewIconSecondary})]},a))})}var Er=d(C()),Vm=["fill","fit","stretch","tile"];function uu({title:e="",enabled:t=!0,fillImageResize:o,onChangeImageResize:r}){return(0,Er.jsx)(Ze,{title:e,children:(0,Er.jsx)(ht,{enabled:t,wrapperClassName:fe,children:Vm.map(n=>(0,Er.jsx)(Fe,{identifier:n,title:_i,selected:o.has(n),onSelect:r},n))})})}var du=d(W());var wo=d(C()),Om=e=>{let t=qp(e);return L(t)?Math.round(t*100):t};function fu({onChange:e,value:t,enabled:o,title:r}){let n=Om(t),i=(0,du.useCallback)(a=>{e(Di(a/100,2))},[e]);return(0,wo.jsxs)(Ze,{title:r,children:[(0,wo.jsx)(ie,{enabled:o,precision:0,value:n,unit:"%",onChange:i,min:1,step:1}),(0,wo.jsx)(Js,{enabled:o,value:n,min:1,max:200,step:1,onChange:i})]})}var Ge=d(C());function lR({imageReferences:e,fillImageResize:t,onChangeImages:o,onRemoveImage:r,onChangeImageResize:n,onChangeAssetSize:i,altText:a,onChangeAltText:l,fillImagePositionX:s,fillImagePositionY:c,onChangeImagePosition:u,fillImageTileSize:p,onChangeFillImageSize:h,onSelectTilePatternPreset:y}){let f=M(),P=Oe(e),x=t&&Oe(t)==="tile"&&$i(P)?el(P):void 0,b=(0,ai.useCallback)((m,I)=>lr(f,m,I),[]),g=(0,ai.useCallback)(m=>{f.stores.modalStore.push({type:"ImageCrop",initialImage:m,onChange:o,source:"image_picker"})},[o]);return(0,Ge.jsx)(Ee,{direction:"column",padding:`0 ${me.panelPadding}px ${me.panelPadding}px`,children:(0,Ge.jsx)(Nr,{imageReferences:Array.from(e),onChangeImages:o,onRemoveImage:e.size>0?r:void 0,onChangeAssetSize:i,altText:a,onChangeAltText:l,onImageBatchUpload:b,onCropClick:g,extraControls:t&&(0,Ge.jsxs)(Ge.Fragment,{children:[!z(n)&&(0,Ge.jsx)(uu,{title:"Type",enabled:!0,fillImageResize:t,onChangeImageResize:n}),!z(y)&&Oe(t)==="tile"&&(0,Ge.jsx)(lu,{selectedPreset:x,onSelectPreset:y}),!z(h)&&Oe(t)==="tile"&&(0,Ge.jsx)(fu,{title:"Scale",value:p,onChange:h,enabled:e.size>0}),!z(u)&&(0,Ge.jsx)(pu,{title:"Position",imageReferences:e,enabled:e.size>0,fillImageResize:t,fillImagePositionX:s,fillImagePositionY:c,onChangeImagePosition:u})]})})})}var hi=d(W());var si="https://app.framerstatic.com/checkerboard-8-776AE4U3.svg";var li=125,ci=230,mu="s1e2z0bv",pi="rb8k8h9",gu="iihdl0y",Ct="swsq73a",bu="t1ecuz16",Xt="f10aiog9",se="i19bkgmo",yu="hqo5o69",Yt="l7n5mtt",st="c1424kp4",Qt="r1k5sn29",hu="s1hh4y0v";var Mr=d(C());function Fr({colorModel:e,onChangeColorModel:t}){let o=J();return(0,Mr.jsx)(qt.Provider,{value:!1,children:(0,Mr.jsx)(ht,{children:pl.map(r=>(0,Mr.jsx)(Fe,{title:r,identifier:r,selected:r===e,onSelect:t,enabled:e==="P3"||r==="P3"?!o:!0},r))})})}var lt=d(W());var xu="s1547mmt",Cu="siommo3",Wr="ixdcado",vu="csdqxt6",Pu="h10f07ai",ui="i1y4xa9u",wu="cawslk",Tu="o104dadf",di="r1u3lu2p",Iu="hz6ma7m",Ru="p1bt5whn",ku="iehmvlc";var Su="s1klz3oz";var Vu="s10ppfb8";var fi=d(C());function Dr({enabled:e,className:t,onChange:o}){let r=M(),n=r.scheduler.wrapHandler(()=>{sr(r).then(i=>{i&&o(i)}).catch(pt)});return(0,fi.jsx)(He,{className:v(Vu,t),enabled:e,onClick:n,title:"Sample Color",children:(0,fi.jsx)(ls,{})})}var K=d(C());function Fm(e){return Math.max(0,Math.min(e,1))}function Wm(e){return lt.default.useMemo(()=>{let t=Ce.fromString(e);return w(t,"Invalid color "+e),{hsv:t.hsv(),p3:t}},[e])}var Ou=lt.default.memo(function({className:t,style:o,colorString:r,onChange:n,onChangeColorModel:i}){let a=M(),l=J(),{hsv:s,p3:c}=Wm(r),{h:u,s:p,v:h,a:y}=s,f=lt.default.useRef(!1),P=lt.default.useRef(void 0),x=lt.default.useRef(u),b=cr(),g=kt(()=>{a.beginUndoGroup()},[]),m=kt(()=>{a.endUndoGroup()},[]),I=kt(Y=>{let q=Ce.fromString(r)?.toString("p3",{a:Fm(Y.progress.x??1)});w(q,"Invalid color "+r),n(q,!1)},[r,n]),E=kt(Y=>{let q=Y.progress.x*360,le=Ce.fromHSV({h:q,s:p,v:h,a:y}).toString();n(le,!1),x.current=q,y===0&&Te(),p===0&&b()},[p,h,y,n,b]),O=kt(Y=>{let{progress:q}=Y;f.current=!0,P.current=q;let le=Ce.fromHSV({h:x.current,s:q.x,v:1-q.y,a:y}).toString();n(le,!0),y===0&&Te(),(q.x===0||1-q.y===0)&&b()},[y,n,b]),S=kt(()=>{f.current=!1,P.current=void 0,m()},[]),F=lt.default.useCallback(Y=>{n(Y,!0)},[n]);p!==0&&h!==0&&!(u===0&&x.current===360)&&!f.current&&(x.current=u);let N=Ce.fromHSV({h:x.current,s:1,v:1,a:1}),B=N.toString(),A=N.toString("srgb"),R={"--hue":A,"--hue-p3":B},X={"--slider-alpha-0":N.toString("srgb",{a:0}),"--slider-alpha-1":A,"--slider-p3-alpha-0":N.toString("p3",{a:0}),"--slider-p3-alpha-1":B},he=P.current?.x??p,U=P.current?.y??1-h;return f.current||(P.current=void 0),(0,K.jsxs)("div",{className:t,style:o,children:[(0,K.jsx)("div",{className:v(Cu,l&&di),style:R,children:(0,K.jsxs)(Me,{onDragStart:g,onDrag:O,onDragEnd:S,className:xu,enabled:!l,children:[(0,K.jsx)("div",{className:Wr,style:mi(he,U,l)}),(0,K.jsx)(_m,{hue:x.current})]})}),(0,K.jsx)("div",{className:vu,children:(0,K.jsxs)("div",{className:v(l&&di,Pu),children:[(0,K.jsx)(Me,{onDragStart:g,onDrag:E,onDragEnd:m,enabled:!l,className:Iu,children:(0,K.jsx)("div",{className:ui,children:(0,K.jsx)("div",{className:Wr,style:mi(x.current/360,.5,l)})})}),(0,K.jsxs)(Me,{onDragStart:g,onDrag:I,onDragEnd:m,enabled:!l,style:X,className:Tu,children:[(0,K.jsx)("div",{className:wu}),(0,K.jsx)("div",{className:ui,children:(0,K.jsx)("div",{className:Wr,style:mi(y,.5,l)})})]})]})}),(0,K.jsx)(qm,{value:c,onChange:F,enabled:!l}),(0,K.jsxs)("div",{className:ku,children:[(0,K.jsx)(Fr,{colorModel:"P3",onChangeColorModel:i}),Ho||"EyeDropper"in window?(0,K.jsx)(Dr,{onChange:F,enabled:!l,className:Su}):null]})]})});function mi(e,t,o){return{left:`${e*100}%`,top:`${t*100}%`,pointerEvents:o?"none":void 0}}function Nu(e,t,o){let r=Math.max(Math.ceil((t-e)/(o||1)),0),n=[];for(let i=0;i<r;i++)n[i]=e,e+=o;return n}var Dm=Nu(0,1,.01),Bm=Nu(1,0,-.01);function Am(e){return Dm.map(t=>{let{s:o,v:r}=Ce.fromHSV({h:e,s:t,v:1,a:1},"srgb").hsv();return[o,r]})}function Lm(e){return Bm.map(t=>{let{s:o,v:r}=Ce.fromHSV({h:e,s:1,v:t,a:1},"srgb").hsv();return[o,r]})}var Gm=en([0,1],[0,ci]),zm=en([0,1],[0,li]);function _m({hue:e}){let t=lt.default.useMemo(()=>{let o="";for(let r of Am(e).concat(Lm(e)))o+=`${Gm(r[0])}, ${zm(1-r[1])} `;return o},[e]);return(0,K.jsx)("svg",{viewBox:`0 0 ${ci} ${li}`,role:"presentation",className:Ru,children:(0,K.jsx)("polyline",{points:t})})}function gi(e){return Math.trunc(Math.min(Math.max(e,0),1)*1e3)/1e3}function Br(e,t,o){return lt.default.useCallback(r=>{let n=e==="a"?r/100:r,i=t[e];if(n===i)return;let a=new Ce({r:t.r,g:t.g,b:t.b,a:t.a??1}).toString("p3",{[e]:n});o(a),e==="a"&&n===0&&Te()},[e,t,o])}function qm({value:e,onChange:t,enabled:o}){let r=Br("r",e,t),n=Br("g",e,t),i=Br("b",e,t),a=Br("a",e,t);return(0,K.jsxs)("div",{className:v(Ct,Xt),children:[(0,K.jsx)(ie,{value:gi(e.r),onChange:r,min:0,max:1,step:.01,enabled:o,className:se,wrapperClassName:Yt,title:"Red","data-testid":"p3-red-color-input"}),(0,K.jsx)(ie,{value:gi(e.g),onChange:n,min:0,step:.01,max:1,enabled:o,className:se,wrapperClassName:st,title:"Green","data-testid":"p3-green-color-input"}),(0,K.jsx)(ie,{value:gi(e.b),onChange:i,min:0,max:1,step:.01,enabled:o,className:se,wrapperClassName:st,title:"Blue","data-testid":"p3-blue-color-input"}),(0,K.jsx)(ie,{value:Je(e?.a??1),onChange:a,unit:"%",min:0,step:1,max:100,enabled:o,className:se,wrapperClassName:Qt,title:"Alpha","data-testid":"p3-alpha-color-input"})]})}var Io=d(C());function Eu({value:e,onChange:t,sampleColor:o,setColorModel:r,enabled:n}){let i=(s,c,u)=>{if(s.match(/^#?[a-f\d]{1,2}$/iu)){let y=s.startsWith("#")?s.slice(1):s;y.length===1?y=y.repeat(6):y.length===2&&(y=y.repeat(3)),s="#"+y}if(!Z.isValid(s))return;(s.startsWith("hsl(")||s.startsWith("hsla("))&&r("HSL"),(s.startsWith("rgb(")||s.startsWith("rgba("))&&r("RGB"),s.match(/^[a-f\d]+$/iu)&&(s="#"+s),s.startsWith("hsv")&&(s=re.toHslString(re(s))),/^[a-z]+$/i.test(s.trim())&&(s=re.toHslString(re(s)));let p=Z.toRgb(s);if(s.startsWith("rgba(")||s.startsWith("hsla(")||s.startsWith("#")&&s.length===9?Z.getAlpha(s)===0&&Te():p.a=e.a,re.equal(re(p),re(e)))return u();t(Z.rgbaToString(p))},a=s=>{let c={...e,a:s/100},u=Z.rgbaToString(c);u&&t(u),c.a===0&&Te()},l=s=>{fl("sampleColor")===pr(s)&&o()};return(0,Io.jsxs)("div",{className:v(Ct,bu),children:[(0,Io.jsx)(er,{value:Z.rgbToHexValue(e).toLocaleUpperCase(),onChange:i,onKeyDown:l,className:v(se,yu),"data-testid":"hex-color-input"}),(0,Io.jsx)(ie,{value:Je(e.a),onChange:a,unit:"%",min:0,step:1,max:100,enabled:n,className:se,title:"Alpha","data-testid":"hex-alpha-color-input"})]})}var Mu=d(W());var Mt=d(C());function Ar(e,t,o){return Mu.default.useCallback(r=>{let n=e!=="h"?r/100:r;if(n===t[e])return;let i={...t,[e]:n};o(Z.hslToString(i)),e==="a"&&n===0&&Te()},[e,t,o])}function Fu({value:e,onChange:t,enabled:o}){let r=Ar("h",e,t),n=Ar("s",e,t),i=Ar("l",e,t),a=Ar("a",e,t);return(0,Mt.jsxs)("div",{className:Ao(Ct,Xt),children:[(0,Mt.jsx)(ie,{value:e.h,onChange:r,min:0,max:360,enabled:o,className:se,wrapperClassName:Yt,title:"Hue","data-testid":"hsl-hue-color-input"}),(0,Mt.jsx)(ie,{value:Je(e.s),onChange:n,min:0,max:100,enabled:o,className:se,wrapperClassName:st,title:"Saturation","data-testid":"hsl-saturation-color-input"}),(0,Mt.jsx)(ie,{value:Je(e.l),onChange:i,min:0,max:100,enabled:o,className:se,wrapperClassName:st,title:"Lightness","data-testid":"hsl-lightness-color-input"}),(0,Mt.jsx)(ie,{value:Je(e.a),onChange:a,unit:"%",min:0,max:100,enabled:o,className:se,wrapperClassName:Qt,title:"Alpha","data-testid":"hsl-alpha-color-input"})]})}var Wu=d(W());var Ft=d(C());function Lr(e,t,o){return Wu.default.useCallback(r=>{let n=e==="a"?r/100:r;if(n===t[e])return;let i={...t,[e]:n};o(Z.rgbaToString(i)),e==="a"&&n===0&&Te()},[e,t,o])}function Du({value:e,onChange:t,enabled:o}){let r=Lr("r",e,t),n=Lr("g",e,t),i=Lr("b",e,t),a=Lr("a",e,t);return(0,Ft.jsxs)("div",{className:Ao(Ct,Xt),children:[(0,Ft.jsx)(ie,{value:e.r,onChange:r,min:0,max:255,enabled:o,className:se,wrapperClassName:Yt,title:"Red","data-testid":"rgb-red-color-input"}),(0,Ft.jsx)(ie,{value:e.g,onChange:n,min:0,max:255,enabled:o,className:se,wrapperClassName:st,title:"Green","data-testid":"rgb-green-color-input"}),(0,Ft.jsx)(ie,{value:e.b,onChange:i,min:0,max:255,enabled:o,className:se,wrapperClassName:st,title:"Blue","data-testid":"rgb-blue-color-input"}),(0,Ft.jsx)(ie,{value:Je(e.a),onChange:a,unit:"%",min:0,max:100,enabled:o,className:se,wrapperClassName:Qt,title:"Alpha","data-testid":"rgb-alpha-color-input"})]})}var j=d(C());function bi(e,t){switch(t){case"hsl":return Z.hsvToHSLString(e);default:return Z.hsvToRgbString(e)}}var Gr=class extends hi.default.Component{constructor(){super(...arguments);T(this,"state",{dragging:!1});T(this,"inputRef",hi.default.createRef());T(this,"currentHue",null);T(this,"dragPosition",null);T(this,"onSaturationBrightnessDrag",o=>{let{progress:r}=o,n=Z.getAlpha(this.props.color),i={h:this.currentHue||0,s:r.x,v:1-r.y,a:n},a=re(this.props.color).format,l=bi(i,a);this.dragPosition=r,l&&this.onChange(l,!1),n===0&&Te()});T(this,"setColorModel",this.props.engine.scheduler.wrapHandler(o=>{switch(o){case"P3":{if(re.isP3String(this.props.color))break;let r=Ce.fromRGBString(this.props.color)?.toString();w(r,"Invalid color "+this.props.color),this.onChange(r,!0);break}default:{if(!re.isP3String(this.props.color))break;let r=Ce.fromString(this.props.color)?.toString("srgb");w(r,"Invalid color "+this.props.color),this.onChange(r,!0);break}}this.props.engine.stores.persistedUserDefaults.colorModel=o}));T(this,"onSaturationBrightnessDragEnd",this.props.engine.scheduler.wrapHandler(()=>{this.onDragEnd()}));T(this,"onHueDrag",this.props.engine.scheduler.wrapHandler(o=>{let r=re(this.props.color),n=Z.toHSV(this.props.color);this.currentHue=o.progress.x*360,n.h=this.currentHue,n.s===0&&this.forceUpdate();let i=bi(n,r.format);i&&this.onChange(i,!1),n.a===0&&Te()}));T(this,"onOpacityDrag",this.props.engine.scheduler.wrapHandler(o=>{let r=Z.toHSV(this.props.color);r.a=o.progress.x;let n=bi(r,re(this.props.color).format);n&&this.onChange(n,!1)}));T(this,"onChange",(o,r)=>{this.props.onChange(o,r??!this.state.dragging)});T(this,"onDragStart",this.props.engine.scheduler.wrapHandler(()=>{this.setState({dragging:!0}),this.props.engine.beginUndoGroup()}));T(this,"onDragEnd",this.props.engine.scheduler.wrapHandler(()=>{this.props.engine.endUndoGroup(),this.setState({dragging:!1}),this.props.onChange(this.props.color,!0)}))}render(){if(re.isP3String(this.props.color))return(0,j.jsx)(Ou,{colorString:this.props.color,className:this.props.className,style:Bu,onChange:this.props.onChange,onChangeColorModel:this.setColorModel});let{color:o,className:r}=this.props,n=Z.toHSV(o);this.currentHue?n.s!==0&&n.v!==0&&!(n.h===0&&this.currentHue===360)&&!this.state.dragging&&(this.currentHue=Math.round(n.h)):this.currentHue=Math.round(n.h);let i=this.currentHue,a=1-n.v,l=n.s;return this.dragPosition!==null&&(a=this.dragPosition.y,l=this.dragPosition.x),!this.state.dragging&&this.dragPosition!==null&&(this.dragPosition=null),(0,j.jsx)(qt.Consumer,{children:s=>(0,j.jsxs)("div",{className:r,style:Bu,children:[(0,j.jsx)("div",{className:v(mu,s&&pi),style:Hm(i),children:(0,j.jsx)(Me,{onDragStart:this.onDragStart,onDrag:this.onSaturationBrightnessDrag,onDragEnd:this.onSaturationBrightnessDragEnd,style:Km,enabled:!s,children:(0,j.jsx)("div",{style:yi(l,a,s)})})}),(0,j.jsx)("div",{style:{width:"100%",display:"flex",margin:`${me.inputSpacing}px 0`},children:(0,j.jsxs)("div",{className:v(s&&pi),style:{display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"center"},children:[(0,j.jsx)(Me,{onDragStart:this.onDragStart,onDrag:this.onHueDrag,onDragEnd:this.onDragEnd,enabled:!s,style:$m,children:(0,j.jsx)("div",{style:Au,children:(0,j.jsx)("div",{style:yi(i/360,void 0,s)})})}),(0,j.jsxs)(Me,{onDragStart:this.onDragStart,onDrag:this.onOpacityDrag,onDragEnd:this.onDragEnd,enabled:!s,style:Zm(o),children:[(0,j.jsx)("div",{style:jm}),(0,j.jsx)("div",{style:Au,children:(0,j.jsx)("div",{style:yi(n.a,void 0,s)})})]})]})}),(0,j.jsx)(Um,{colorModel:this.props.colorModel,colorString:this.props.color,onChange:this.onChange,sampleColor:this.props.sampleColor,setColorModel:this.setColorModel}),(0,j.jsxs)("div",{className:gu,children:[(0,j.jsx)(Fr,{colorModel:this.props.colorModel==="P3"?"RGB":this.props.colorModel,onChangeColorModel:this.setColorModel}),Ho||"EyeDropper"in window?(0,j.jsx)(Dr,{onChange:this.onChange,enabled:!s,className:hu}):null]})]})})}};function Um({colorModel:e,colorString:t,onChange:o,sampleColor:r,setColorModel:n}){let i=J();switch(e){case"HSL":return(0,j.jsx)(Fu,{value:Z.toHSL(t),onChange:o,enabled:!i});case"HEX":return(0,j.jsx)(Eu,{value:Z.toRgb(t),onChange:o,sampleColor:r,setColorModel:n,enabled:!i});default:return(0,j.jsx)(Du,{value:Z.toRgb(t),onChange:o,enabled:!i})}}function Hm(e){return{backgroundColor:`${Z.toColorPickerSquare(e)}`}}var Km={position:"absolute",top:1,right:1,bottom:1,left:1},Bu={position:"relative"},Lu={position:"relative",width:"100%",height:8,overflow:"visible",borderRadius:6},$m={...Lu,marginBottom:8,backgroundImage:"linear-gradient(to right, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%)"};function Zm(e){return{...Lu,backgroundImage:`linear-gradient(to right, ${Z.setAlpha(e,0)}, ${Z.setAlpha(e,1)})`,backgroundRepeat:"no-repeat"}}var Au={position:"absolute",height:"100%",top:0,left:4,right:4},Jm={position:"absolute",width:14,height:14,top:"50%",transform:"translateX(-50%) translateY(-50%)",borderRadius:"50%",boxShadow:"inset 0 0 0 3px white, inset 0 0 0 4px rgba(0,0,0,.1), 0 0 0 1px rgba(0,0,0,.1)",cursor:ja.button};function yi(e,t=.5,o){return{...Jm,left:`${e*100}%`,top:`${t*100}%`,pointerEvents:o?"none":void 0}}var jm={position:"absolute",width:"100%",height:"100%",backgroundImage:`url(${si})`,backgroundRepeat:"repeat",borderRadius:10,zIndex:-1};var Gu="c2orl3y",Sk="c1svq14t",Vk="c1j2rli7",zu="s1cbpxcr",_u="sxhu8tk",qu="c1yp40qr",Uu="czr60e9",Hu="c1azw9i";var Re=d(W());var Wt=d(C());function Ku({value:e,colorModel:t,isDarkMode:o,onChangeColor:r}){let n=M(),[i,a]=(0,Re.useState)(null),l=(0,Re.useRef)(null),[s,c]=(0,Re.useState)({}),[u,p]=(0,Re.useState)(null),[h,y]=(0,Re.useState)(!1),f=Ym({token:null,isDarkMode:o,imageFill:!1,value:e,colorStopSelection:void 0,pendingExternalColor:u,colorForExternalColor:s,setPendingExternalColor:p}),P=(0,Re.useCallback)(g=>{let I=g.target.scrollTop>0;I!==h&&y(I)},[h]),{handleChangeColor:x,handleSampleColor:b}=Qm({isDarkMode:o,onChangeColor:r,setColorForExternalColor:c,setPendingExternalColor:p});return e!==i&&a(e),(0,Wt.jsx)(Za.Provider,{value:"color-picker",children:(0,Wt.jsx)("div",{className:v(Gu),children:(0,Wt.jsx)(Us,{onScroll:P,ref:l,className:zu,children:(0,Wt.jsx)("div",{className:_u,children:(0,Wt.jsx)("div",{className:v(qu,Uu),children:(0,Wt.jsx)(Gr,{onChange:x,color:f,colorModel:t,className:Hu,sampleColor:b,engine:n})})})})})})}function Ym({isDarkMode:e,token:t,imageFill:o,value:r,colorStopSelection:n,pendingExternalColor:i,colorForExternalColor:a,setPendingExternalColor:l}){let s;return t?s=t.colorForMode(e):o?s="white":Mi(r)?s=r:s=r?.stops.find(c=>c.id===n)?.value||r?.stops[0]?.value||"transparent",i===s&&l(null),a[i??s]??s}function Qm({isDarkMode:e,onChangeColor:t,selection:o,colorStopSelection:r,setColorForExternalColor:n,setPendingExternalColor:i}){let a=M(),l=(0,Re.useCallback)((p,h,y)=>{if(Uo(p))return;let f=p,P=bt(f);if(P){let b=gt(f),g=b?zt(b,a.tree):null;g&&(f=g.colorForMode(e))}let x=re.isP3String(f)?f:Z.toRgbString(f);n({[x]:f}),i(x),queueMicrotask(()=>{t(P?p:x,h,y)})},[e,t,n,i]),s=(0,Re.useCallback)((p,h=!0)=>{c(o),l(p,r,h)},[o,r,l]),c=(0,Re.useCallback)(p=>{if(!p)return;a.tree.getNodes(p).some(f=>Bi(f)&&f.resolveValue("opacity")===0)&&nr({type:"add",variant:"info",icon:"color-wheel",text:"Increase layer opacity to see changes",key:"color-change-null-opacity",duration:3e3})},[]),u=(0,Re.useCallback)(()=>{sr(a).then(a.scheduler.wrapHandler(p=>{p&&s(p)})).catch(pt)},[s]);return{handleChangeColor:s,handleSampleColor:u}}var eg="framerComponentPresetProps",$u;async function tg(e){if(Oo.isTest)return[];let t=[qo.codeblock,qo.youtube,qo.vimeo],{modules:o}=await e.stores.modulesStore.lookUpModules(t.map(Na));return t.map((r,n)=>{let i=o[n];w(i,"Can't find module"),w(r,"Component is undefined"),w(i.files.module,"Module file is not set");let a=Oi(i.id,i.saveId,i.files.module,"exportSpecifier"in r&&ca(r.exportSpecifier)?r.exportSpecifier:"default");return{name:r.title,moduleId:i.id,componentIdentifier:a.value}})}function og(e){return $u??=tg(e),$u}function rg(e){let t=[],o=e.tree.getExternalModulesListNode();for(let r of o?.children??[])r.annotations&&eg in r.annotations&&t.push({name:r.title,moduleId:r.id,componentIdentifier:r.codeComponentIdentifier});return t}function ng(e,t){let o=new Set;for(let r of t)o.add(r.moduleId);return e.filter(r=>!o.has(r.moduleId)).concat(t).sort((r,n)=>r.name.localeCompare(n.name))}async function Yk(e){let t=await og(e),o=rg(e);return ng(t,o)}var zr=d(W());var Zu=d(C()),c0=(0,zr.memo)(function(t){let o=sg(),{value:r}=ag(t.value,o);return Yr(k(r),"value must be a string"),(0,Zu.jsx)(Ku,{...t,colorModel:o.colorModel,isDarkMode:o.isDarkMode,value:r,onChangeColor:t.onChange})});function ig(e){return"selection"in e&&"selectedGradientStopId"in e}function ag(e,t){let o=M(),r,n=null;if(k(e)?r=e:ig(t)?r=e.stops.find(({id:i})=>i===t.selectedGradientStopId)?.value??"transparent":r="transparent",bt(r)){let i=gt(r),a=i?zt(i,o.tree):null;Bo(a)&&(n=a),n||(e=Lo(r)||"transparent")}return{value:e,token:n}}function sg(){let e=M();Yr(Ja(e),"engine must be an on page engine");let t=Ht(()=>e.stores.persistedUserDefaults.colorModel,[],e.stores.persistedUserDefaults);return(0,zr.useMemo)(()=>({colorModel:t,isDarkMode:!0}),[t])}var ed=d(W());var Ju="ia3rrjn";var Xu=d(C());function ju({className:e,children:t,...o}){return(0,Xu.jsx)("div",{className:v(Ju,e),...o,children:t})}var qr=d(C()),xi=/\[([^\]]+)\]\((https?:\/\/[\w./?=#%&-]+)\)/gu,Ci=/\*([^*]+)\*/gu,_r=/(\n)/gu;function Ro(e,t,o=0,r=[xi,Ci,_r]){let[n,i]=r.map(s=>(s.lastIndex=o,s.exec(e))).reduce((s,c,u)=>{let[p]=s;if(p&&c){if(p.index<c.index)return s}else if(p)return s;return[c,r[u]]},[null,void 0]);if(!n||!i)return o===e.length?[]:[e.substring(o)];let a=[];n.index-o>0&&a.push(e.substring(o,n.index));let l=i.lastIndex;if(i===xi){let[s,c,u]=n,p=Ro(c,t,0,[Ci,_r]);a.push((0,qr.jsx)("a",{href:u,target:"_blank",...t,children:p},n.index))}if(i===Ci){let[s,c]=n,u=Ro(c,t,0,[xi,_r]);a.push((0,qr.jsx)("em",{children:u},n.index))}return i===_r&&a.push((0,qr.jsx)("br",{},n.index)),a.push(...Ro(e,t,l)),a}var Yu="d1ykgdi6",Qu="w1wgf3m";var vi=d(C()),R0=ed.default.memo(function({fullWidth:t=!1,withMargin:o=!0,description:r}){let n=_t(void 0),i=Ro(r,{tabIndex:n});return(0,vi.jsx)(Ze,{title:t?void 0:" ",children:(0,vi.jsx)(ju,{className:v(Yu,o?Qu:void 0,t?oc:fe),children:i})})});var td="p5inzda",od="ptswoqr",rd="e14s1oge";var nd=d(C());function E0({children:e,hidden:t,empty:o,withHeader:r,testId:n,className:i,...a}){return t?null:(0,nd.jsx)("div",{className:v(td,o&&rd,r&&od,i),"data-testid":n,...a,children:e})}var id=d(W());function ad(e,t){if(e.type==="object"&&t.type==="object"&&ro(e.value)&&ro(t.value)){let o=sd(e.value,t.value);return on(o,t.value)?t:{...e,value:o}}if(e.type==="array"&&t.type==="array"&&Ve(e.value)&&Ve(t.value)){let o=t.value,r=e.value.map((n,i)=>{let a=o[i];return a?ad(n,a):n});return zi(r,t.value)?t:{...e,value:r}}return Eo(e,t)?t:e}function sd(e,t){let o={};for(let r in e){let n=e[r];w(n);let i=t[r];if(!i){o[r]=n;continue}o[r]=ad(n,i)}return on(o,t)?t:o}function L0(e){let t=(0,id.useRef)(null),o=t.current;if(!o)return t.current=e,e;let r=sd(e,o);return t.current=r,r}export{dg as a,go as b,wl as c,Rl as d,fr as e,Dg as f,El as g,Kt as h,Vd as i,Ll as j,Md as k,zl as l,gb as m,bb as n,Pb as o,Mb as p,Jl as q,qT as r,UT as s,zb as t,_b as u,qb as v,YT as w,QT as x,sd as y,L0 as z,lI as A,ou as B,rm as C,RP as D,Lp as E,zp as F,im as G,QP as H,am as I,_p as J,sm as K,lm as L,cm as M,ew as N,sw as O,gw as P,pm as Q,Hb as R,ec as S,br as T,tc as U,fe as V,oc as W,zn as X,cc as Y,zy as Z,rf as _,fc as $,dh as aa,fh as ba,mh as ca,gh as da,bh as ea,yh as fa,hh as ga,xh as ha,Ch as ia,nf as ja,vh as ka,Ph as la,wh as ma,Th as na,Ih as oa,Rh as pa,kh as qa,Sh as ra,Vh as sa,Oh as ta,Rc as ua,Oc as va,Nc as wa,Ec as xa,Dc as ya,Tx as za,bf as Aa,Ix as Ba,it as Ca,Rx as Da,xf as Ea,Bc as Fa,Ac as Ga,tf as Ha,pc as Ia,qn as Ja,Un as Ka,Ef as La,Mf as Ma,Jc as Na,jc as Oa,$t as Pa,Ze as Qa,FC as Ra,ip as Sa,HC as Ta,up as Ua,H as Va,Tv as Wa,Ir as Xa,Rr as Ya,Lv as Za,Or as _a,pu as $a,Sm as ab,uu as bb,qp as cb,Vr as db,Ep as eb,Hv as fb,Mp as gb,Db as hb,Nr as ib,bm as jb,lR as kb,si as lb,Je as mb,lP as nb,Gr as ob,Gu as pb,Sk as qb,Vk as rb,zu as sb,_u as tb,qu as ub,Hu as vb,Ym as wb,Qm as xb,og as yb,rg as zb,ng as Ab,Yk as Bb,c0 as Cb,ag as Db,ju as Eb,R0 as Fb,Yl as Gb,Ab as Hb,em as Ib,hP as Jb,Xp as Kb,Yp as Lb,CT as Mb,E0 as Nb,ST as Ob,vP as Pb,PP as Qb};
//# sourceMappingURL=https://app.framerstatic.com/chunk-USLM36KB.mjs.map

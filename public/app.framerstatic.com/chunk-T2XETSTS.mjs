import{A as Me,Ta as xe,Ua as Se,c as we,o as Y}from"https://app.framerstatic.com/chunk-FDH2L5H4.mjs";import{Qa as q,Va as Ie,Za as Re,q as $}from"https://app.framerstatic.com/chunk-USLM36KB.mjs";import{b as Te}from"https://app.framerstatic.com/chunk-RWHKJ5QL.mjs";import{b as ee}from"https://app.framerstatic.com/chunk-UPG5HTWJ.mjs";import{a as T}from"https://app.framerstatic.com/chunk-UUM6YMYS.mjs";import{a as se}from"https://app.framerstatic.com/chunk-OZMR6J2Y.mjs";import{Pd as O}from"https://app.framerstatic.com/chunk-ATANOO3H.mjs";import{M as De}from"https://app.framerstatic.com/chunk-I24ABD3P.mjs";import{Dg as K,Eg as ke,W as Pe,X as he,bd as ve}from"https://app.framerstatic.com/chunk-OMLUVIS3.mjs";import{$b as w,Cl as Z,Kk as Ce,Mk as be,Qb as ue,Ub as G,Yb as f,bc as de,cb as A,cc as me,ec as ce,ib as v,jb as L,m as le,mc as fe,ue as ge,wr as ye,xr as Ve}from"https://app.framerstatic.com/chunk-MEZTIH57.mjs";import{b as U}from"https://app.framerstatic.com/chunk-QLLZMBTC.mjs";import{g as _}from"https://app.framerstatic.com/chunk-N4S37JPH.mjs";import{a as V,b as N,i as pe}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as X,b as W}from"https://app.framerstatic.com/chunk-JX6NUTD4.mjs";import{A as Q,z as ae}from"https://app.framerstatic.com/chunk-WWEGIMHT.mjs";import{e as h}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var B=h(X());var k=h(W()),oe="boolean";function Ne(n){return`boolean-input-row-popout-${n}`}function Vo({nodeIds:n,controlProp:r,control:t,controlKey:l,onChange:C,onContextMenu:m,sortable:p,traitTypeKeys:P,supportsVariables:b=!1,supportsComputedValues:D=!1,supportsFetchDataValues:I=!1}){let R=U(),{value:o}=r,M=p?void 0:t.title||v(l),u=V(t.defaultValue)?t.defaultValue:void 0,i=Ne(l),e=(0,B.useCallback)(a=>{C({type:t.type,value:a},l)},[l,t,C]),d=(0,B.useCallback)(()=>{V(u)&&e(u)},[u,e]),x=ee(a=>{let y=t.title||v(l),z=V(r.value)?r.value:!0,H=O({engine:R,scopeId:a,type:oe,name:y,initialValue:z});H&&e(H)},[e,l,t,r]),S=(0,B.useCallback)(a=>{e(a),$.navigation.presentPopout(i)},[e,i]),J=(0,B.useCallback)(()=>{let a=A({type:"boolean",value:V(o)?o:!1}),y=G("boolean",a,[]);return S(y),y},[S,o]),F=ee(()=>{if(f(o))if(L(o)){let a=Ve(R,o),y=V(a)?a:!0;e(y)}else ue(o)?e(V(u)?u:!0):void 0},[e,u,o]);return(0,k.jsx)(q,{title:M,onContextMenu:m,onResetToDefault:p?void 0:d,resetToDefaultEnabled:V(u)&&u!==o,traitTypeKeys:P,withReorderControl:p,supportsVariables:b,supportsComputedValues:D,variableType:T[oe],dynamicValue:f(o)?o:null,onSelectVariable:e,onCreateVariable:x,onSelectComputedValue:S,onRemoveDynamicValue:F,computedValuePopoutId:i,supportsFetchDataValues:I,onSelectFetchDataValue:J,children:f(o)?(0,k.jsx)(Y,{title:M,value:o,outputControl:t,expectedType:T[oe],onRemove:F,onChangeDynamicValue:e,popoutId:i,supportsComputedValues:b,supportsFetchDataValues:I,nodeIds:n}):(0,k.jsxs)(ke,{style:p?void 0:Te,children:[(0,k.jsx)(K,{identifier:!0,title:t.enabledTitle||"Yes",selected:o===!0,onSelect:e}),(0,k.jsx)(K,{identifier:!1,title:t.disabledTitle||"No",selected:o===!1,onSelect:e})]})})}var Le=h(X()),Ae={type:"add",variant:"info",icon:"color-wheel",action:{title:"Install",onClick:De},text:"To sample colors, please use the new desktop app",key:"install-desktop-app",duration:5e3};function ko({channel:n,toast:r}){(0,Le.useEffect)(()=>{if(!n)return;let t={async sampleColor(){return window.EyeDropper?{color:(await new window.EyeDropper().open().catch(m=>{if(m?.name==="AbortError")return{sRGBHex:void 0};throw m})).sRGBHex}:(r(Ae),{})}};return se.on(n).register(t)},[n,r])}var E=h(X());var g=h(W()),j="link",Ge=["*"];function te(n){return`computed-link-${n}`}var it=E.default.memo(function({control:r,controlKey:t,controlProp:l,onChange:C,onContextMenu:m,sortable:p,traitTypeKeys:P,supportsVariables:b=!1,supportsComputedValues:D=!1,supportsFetchDataValues:I=!1,nodeIds:R}){let o=U(),M=(0,E.useMemo)(()=>R??[],[R]),u=(0,E.useMemo)(()=>Me(t||fe()),[t]),{value:i}=l,e=f(i)||w(i)?i:ae,d=s=>{C(t,c=>({...c,value:s}),M),we(e,s)},x=s=>{let{defaultValue:c}=r;return N(c)?c:s},S=()=>{let s=x();pe(s)&&d(s)},J=()=>{d(void 0)},F=o.scheduler.wrapHandler(s=>{let c=r.title||v(t),ze=N(e)?e:x("");o.beginUndoGroup();let ie=O({engine:o,scopeId:s,type:j,name:c,initialValue:ze});ie&&d(ie),o.endUndoGroup()}),a=o.scheduler.wrapHandler(()=>{f(e)&&d(void 0)}),y=o.scheduler.wrapHandler(()=>{let s=A({type:"link",value:w(i)?i:void 0}),c=G("link",s,[]);return z(c),c}),z=o.scheduler.wrapHandler(s=>{d(s),$.navigation.presentPopout(te(t))}),H=p?void 0:r.title||v(t),re=x(),ne=!L(e)&&!w(e),Be=xe(o,e),Ee=Oe(o,e),Fe=N(re)&&w(i)&&!ce(i,me({url:re}));return(0,g.jsx)(q,{title:H,onContextMenu:m,onResetToDefault:S,resetToDefaultEnabled:Fe,variableType:T[j],allowedFileTypes:Ge,variableCreationType:j,onCreateVariable:F,onRemoveDynamicValue:a,dynamicValue:f(i)?i:null,onSelectVariable:d,traitTypeKeys:P,withReorderControl:p,reorderColumnCount:2,supportsVariables:b,supportsComputedValues:D,computedValuePopoutId:te(t),onSelectComputedValue:z,supportsFetchDataValues:I,onSelectFetchDataValue:y,children:f(e)?(0,g.jsx)(Y,{title:r.title||v(t),value:e,outputControl:r,expectedType:T[j],popoutId:te(t),onRemove:a,onChangeDynamicValue:d,nodeIds:M,supportsComputedValues:D,supportsFetchDataValues:I,controlReferenceInfo:void 0}):(0,g.jsx)(Re,{id:u,popout:(0,g.jsx)(Se,{link:Q(e)?void 0:e,onChange:d,supportsVariables:b,supportsPageLinks:Ue(o),supportsSlugVariables:b}),navigationTitle:"Link",displayDivider:!0,title:Q(e)?"Add\u2026":Be,preview:(0,g.jsx)(Ie,{background:ne?_.swatchBackgroundPlaceholderForLink:void 0,children:Ee??(0,g.jsx)(ve,{})}),onDelete:w(e)?J:void 0,titleColor:ne?_.inputLabel:void 0})})});function Ue(n){if(!ye(n))return!0;let{scopeType:r}=n.stores.scopeStore;switch(r){case"CanvasPage":case"DesignPage":return!1;default:return!0}}function Oe(n,r){if(!de(r))return;let{webPageId:t,pathVariables:l}=r;if(!l)return;let C=n.tree.getNodeWithTrait(t,ge);if(!C)return;let m=le.dataForIdentifier(C.dataIdentifier);if(!m)return;let p=m.annotations?.framerSlug;if(!p)return;let P=l[p];if(!L(P))return;let b=Z(Ce,p);if(P.id===b)return(0,g.jsx)(he,{});let D=Z(be,p);if(P.id===D)return(0,g.jsx)(Pe,{})}export{Vo as a,ko as b,it as c};
//# sourceMappingURL=https://app.framerstatic.com/chunk-T2XETSTS.mjs.map

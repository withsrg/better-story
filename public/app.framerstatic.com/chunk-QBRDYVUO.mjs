import{ca as N,ea as G}from"https://app.framerstatic.com/chunk-I24ABD3P.mjs";import{f as Q}from"https://app.framerstatic.com/chunk-XWGDE7KU.mjs";import{f as $}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as ye}from"https://app.framerstatic.com/chunk-JX6NUTD4.mjs";import{m as D,o as B,v as I}from"https://app.framerstatic.com/chunk-WWEGIMHT.mjs";import{a as w}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";import{c as M,e as H,j as E}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var oe=M(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.regionAPIs=void 0;T.regionAPIs=new Map([["us","https://api-iam.intercom.io"],["eu","https://api-iam.eu.intercom.io"],["ap","https://api-iam.au.intercom.io"]])});var ae=M(y=>{"use strict";var Ie=y&&y.__awaiter||function(e,r,n,t){function o(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function c(l){try{f(t.next(l))}catch(h){i(h)}}function u(l){try{f(t.throw(l))}catch(h){i(h)}}function f(l){l.done?a(l.value):o(l.value).then(c,u)}f((t=t.apply(e,r||[])).next())})};Object.defineProperty(y,"__esModule",{value:!0});y.ref=y.init=void 0;var se="_intercom_npm_loader",R=function(){R.loaderQueue(arguments)};R.q=[];R.loaderQueue=function(e){R.q.push(e)};var C=function(){var e,r,n=document;if(!n.getElementById(se)){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.id=se,t.src="https://widget.intercom.io/widget/"+((e=window.intercomSettings)===null||e===void 0?void 0:e.app_id);var o=n.getElementsByTagName("script")[0];(r=o.parentNode)===null||r===void 0||r.insertBefore(t,o)}},ie=()=>document.readyState==="complete"||document.readyState==="interactive",ke=()=>Ie(void 0,void 0,void 0,function*(){var e=window,r=e.Intercom;e.intercomSettings&&(e.intercomSettings.installation_type="npm-package"),typeof r=="function"?(r("reattach_activator"),r("update",e.intercomSettings)):(e.Intercom=R,ie()?C():(document.addEventListener("readystatechange",function(){ie()&&C()}),e.attachEvent?e.attachEvent("onload",C):e.addEventListener("load",C,!1)))});y.init=ke;y.ref=void 0});var ue=M(s=>{"use strict";var Te=s&&s.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};Object.defineProperty(s,"__esModule",{value:!0});s.onUserEmailSupplied=s.showConversation=s.showTicket=s.startChecklist=s.startSurvey=s.showNews=s.showArticle=s.startTour=s.getVisitorId=s.trackEvent=s.onUnreadCountChange=s.onShow=s.onHide=s.showNewMessage=s.showMessages=s.showSpace=s.show=s.hide=s.update=s.shutdown=s.boot=s.Intercom=void 0;var Ce=oe(),ce=ae(),d=(e,...r)=>{typeof window!==void 0&&window.Intercom?window.Intercom(e,...r):console.warn("Please ensure Intercom is setup and running on client-side!")},Oe=e=>{if(typeof e!="object"){console.warn("Intercom initialiser called with invalid parameters.");return}let{region:r="us"}=e,n=Te(e,["region"]);typeof window<"u"&&!ce.ref&&(window.intercomSettings=Object.assign(Object.assign({},n),{api_base:Ce.regionAPIs.get(r)}),(0,ce.init)())};s.Intercom=Oe;s.default=s.Intercom;var _e=e=>d("boot",e);s.boot=_e;var Ae=()=>d("shutdown");s.shutdown=Ae;var xe=e=>d("update",e);s.update=xe;var Pe=()=>d("hide");s.hide=Pe;var je=()=>d("show");s.show=je;var Le=e=>d("showSpace",e);s.showSpace=Le;var Me=()=>d("showMessages");s.showMessages=Me;var Ne=e=>d("showNewMessage",e);s.showNewMessage=Ne;var We=e=>d("onHide",e);s.onHide=We;var Ue=e=>d("onShow",e);s.onShow=Ue;var Ve=e=>d("onUnreadCountChange",e);s.onUnreadCountChange=Ve;var Fe=(...e)=>d("trackEvent",...e);s.trackEvent=Fe;var qe=()=>d("getVisitorId");s.getVisitorId=qe;var He=e=>d("startTour",e);s.startTour=He;var De=e=>d("showArticle",e);s.showArticle=De;var Be=e=>d("showNews",e);s.showNews=Be;var $e=e=>d("startSurvey",e);s.startSurvey=$e;var Qe=e=>d("startChecklist",e);s.startChecklist=Qe;var Ge=e=>d("showTicket",e);s.showTicket=Ge;var Je=e=>d("showConversation",e);s.showConversation=Je;var ze=e=>d("onUserEmailSupplied",e);s.onUserEmailSupplied=ze});async function z(e,r){let n=e.getReader(),t;for(;!(t=await n.read()).done;)r(t.value)}function X(e){let r,n,t,o=!1;return function(i){r===void 0?(r=i,n=0,t=-1):r=ve(r,i);let c=r.length,u=0;for(;n<c;){o&&(r[n]===10&&(u=++n),o=!1);let f=-1;for(;n<c&&f===-1;++n)switch(r[n]){case 58:t===-1&&(t=n-u);break;case 13:o=!0;case 10:f=n;break}if(f===-1)break;e(r.subarray(u,f),t),u=n,t=-1}u===c?r=void 0:u!==0&&(r=r.subarray(u),n-=u)}}function K(e,r,n){let t=J(),o=new TextDecoder;return function(i,c){if(i.length===0)n?.(t),t=J();else if(c>0){let u=o.decode(i.subarray(0,c)),f=c+(i[c+1]===32?2:1),l=o.decode(i.subarray(f));switch(u){case"data":t.data=t.data?t.data+`
`+l:l;break;case"event":t.event=l;break;case"id":e(t.id=l);break;case"retry":let h=parseInt(l,10);isNaN(h)||r(t.retry=h);break}}}}function ve(e,r){let n=new Uint8Array(e.length+r.length);return n.set(e),n.set(r,e.length),n}function J(){return{data:"",event:"",id:"",retry:void 0}}var Se=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n},k="text/event-stream",Re=1e3,Y="last-event-id";function W(e,r){var{signal:n,headers:t,onopen:o,onmessage:a,onclose:i,onerror:c,openWhenHidden:u,fetch:f}=r,l=Se(r,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((h,ge)=>{let v=Object.assign({},t);v.accept||(v.accept=k);let S;function F(){S.abort(),document.hidden||j()}u||document.addEventListener("visibilitychange",F);let q=Re,x=0;function P(){document.removeEventListener("visibilitychange",F),window.clearTimeout(x),S.abort()}n?.addEventListener("abort",()=>{P(),h()});let me=f??window.fetch,we=o??be;async function j(){var L;S=new AbortController;try{let b=await me(e,Object.assign(Object.assign({},l),{headers:v,signal:S.signal}));await we(b),await z(b.body,X(K(m=>{m?v[Y]=m:delete v[Y]},m=>{q=m},a))),i?.(),P(),h()}catch(b){if(!S.signal.aborted)try{let m=(L=c?.(b))!==null&&L!==void 0?L:q;window.clearTimeout(x),x=window.setTimeout(j,m)}catch(m){P(),ge(m)}}}j()})}function be(e){let r=e.headers.get("content-type");if(!r?.startsWith(k))throw new Error(`Expected content-type to be ${k}, Actual: ${r}`)}var U="client";function Z(){return Math.floor(Math.random()*4294967285)}function st(e){if(!e||!("sessionStorage"in globalThis))return Z();let r=sessionStorage.getItem(U);if(r){let t=parseInt(r,10);if(!Number.isNaN(t)&&t.toString()===r&&t<=4294967285)return t}let n=Z();return sessionStorage.setItem(U,n.toString()),n}function ee(){"sessionStorage"in globalThis&&sessionStorage.removeItem(U)}var te=H(ye());async function Ee(){"serviceWorker"in navigator&&(await navigator.serviceWorker.register("/serviceWorker.js"),await ne({type:"refreshApiServer",payload:{api:w().api}}))}async function re(){ne({type:"signOut"}),navigator.serviceWorker.getRegistrations().then(e=>{for(let r of e)r.unregister()})}async function ne(e){"serviceWorker"in navigator&&(await navigator.serviceWorker.ready).active?.postMessage(e)}function ct(){te.default.useEffect(()=>{Ee().catch(e=>{I("app:info").warn("Unable to register the service worker",e)})},[])}var p=H(ue()),Xe=B.isProduction?"gmqktfjv":"iic8t2tp",V=!1,pt=(e,r)=>{V?(0,p.update)(de(e)):((0,p.default)(de(e)),(0,p.onShow)(()=>{r.isIntercomMessengerVisible=!0}),(0,p.onHide)(()=>{r.isIntercomMessengerVisible=!1})),(0,p.show)()},gt=()=>{(0,p.hide)()};function de(e){return{app_id:Xe,hide_default_launcher:!0,user_id:e.userId,user_hash:e.userIntercomHash,email:e.userEmail}}function le(){V&&((0,p.shutdown)(),V=!1)}function fe(e){Promise.all([e.stopAuthentication(),re()]).catch(D).finally(()=>{ee(),le(),window.location.href=`${w().api}/auth/v4/signout`})}var O=new G(w().api,{onInsufficientScopes:e=>fe(e)});var g=Object.freeze({"X-Requested-By":"Framer"});var Ke=I("fetcher"),Ye=(e,r)=>{if(!r)return e;let n=new URL(e);for(let t in r){let o=r[t];if(o!==void 0){if($(o)){for(let a of o)a&&n.searchParams.append(`${t}[]`,a.toString());continue}n.searchParams.append(t,o.toString())}}return n.href},he=e=>{throw new N({isTemporary:!0,message:"Connection error",code:-1e3,status:0,skipSentry:!0,cause:e})};function Ze(e){return e instanceof DOMException&&e.name==="AbortError"}async function pe(e,r){if(e.ok)return{status:"success",response:e};let n=e.statusText,t,o,a;try{let{error:i,ref:c,data:u}=await e.json();typeof i?.message=="string"&&(n=i.message),typeof i?.code=="number"&&(t=i.code),typeof c=="string"&&(o=c),typeof u=="object"&&u&&(a=u)}catch{}return e.status===401&&(await O.discardAccessToken(!0),n.toLowerCase().includes("jwt expired")&&r<1)?(Ke.reportError(new Error("Sent an expired JWT to the backend. This shouldn't happen if AccessTokenRefresher works correctly.")),await O.getAccessToken(),{status:"retry"}):{status:"error",error:new N({data:a,message:n,status:e.status,ref:o,code:t})}}var A=class{constructor(r){this.baseURL=r;E(this,"activeRequestCount",0);E(this,"waitListeners",new Set);E(this,"readonly",!1)}debugSetReadOnly(r=!0){this.readonly=r}doWithListeners(r){this.activeRequestCount++;try{return r().finally(()=>{if(this.activeRequestCount--,this.activeRequestCount===0){let n=Array.from(this.waitListeners);this.waitListeners.clear();for(let t of n)try{t()}catch{}}})}catch(n){this.activeRequestCount--;let t=n instanceof Error?n.message:String(n);throw Q("application_error",{message:t,area:"fetch"}),n}}fetch(r,n,t=0){return this.doWithListeners(async()=>{let o=await this.accessTokenRefresher.withAuthorizationHeader(n||{}),a=await fetch(r,o).catch(c=>{throw Ze(c)?c:he(c)}),i=await pe(a,t);if(i.status==="error")throw i.error;return i.status==="retry"?this.fetch(r,n,t+1):i.response})}fetchStream(r,n={},t=0){return this.doWithListeners(async()=>{let{headers:o,onopen:a,onerror:i,...c}=n,u=await this.accessTokenRefresher.getAuthorizationHeaderValue(),f={...c,headers:u?{...o,authorization:u}:o,onopen:async l=>{let h=await pe(l,t);if(h.status==="error"){i?.(h.error);return}if(h.status==="retry")return this.fetchStream(r,n,t+1);await a?.(h.response)}};return W(r,f).catch(he)})}wait(r){if(this.activeRequestCount===0){r();return}this.waitListeners.add(r)}async getRaw(r,n,t){return await this.fetch(Ye(`${this.baseURL}${r}`,n),{credentials:"include",redirect:"error",signal:t})}async get(r,n,t){let o=await this.getRaw(r,n,t);return _(o)?o.json():o.text()}async postRaw(r,n,t,o){if(this.readonly)throw Error("apiFetcher is set to readonly");let i=typeof n<"u"&&t?{"Content-Type":t,...g}:g;return await this.fetch(`${this.baseURL}${r}`,{method:"POST",credentials:"include",redirect:"error",headers:i,body:n,signal:o})}async post(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let o=await this.postRaw(r,JSON.stringify(n),"application/json",t);return _(o)?o.json():o.text()}postStream(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let o=typeof t<"u",a=o?{"Content-Type":"application/json",...g}:g;return this.fetchStream(`${this.baseURL}${r}`,{...n,method:"POST",credentials:"include",headers:a,body:o?JSON.stringify(t):null})}async putRaw(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let a=typeof n<"u"&&t?{"Content-Type":t,...g}:g;return await this.fetch(`${this.baseURL}${r}`,{method:"PUT",credentials:"include",headers:a,body:n})}async put(r,n){if(this.readonly)throw Error("apiFetcher is set to readonly");let t=await this.putRaw(r,JSON.stringify(n),"application/json");return _(t)?t.json():t.text()}async deleteRaw(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let a=typeof n<"u"&&t?{"Content-Type":t,...g}:g;return await this.fetch(`${this.baseURL}${r}`,{method:"DELETE",credentials:"include",redirect:"error",body:n,headers:a})}async delete(r,n){if(this.readonly)throw Error("apiFetcher is set to readonly");let t=await this.deleteRaw(r,JSON.stringify(n),"application/json");return _(t)?t.json():t.text()}get accessTokenRefresher(){return O}};function _(e){return e.headers.get("Content-Type")?.toLowerCase().startsWith("application/json")??!1}var Ft=new A(w().api);export{st as a,ct as b,pt as c,gt as d,le as e,fe as f,O as g,g as h,Ze as i,Ft as j};
//# sourceMappingURL=https://app.framerstatic.com/chunk-QBRDYVUO.mjs.map

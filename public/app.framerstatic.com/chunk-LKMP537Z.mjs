import{i as m,p as f}from"https://app.framerstatic.com/chunk-XB2V7G5R.mjs";import{a as c}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{a as p}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";function x(){if(typeof document>"u")return;let t=document.cookie.split(";");for(let e of t){let n=e.trim(),o=n.indexOf("=");if(o===-1)continue;let a=n.substring(0,o),r=n.substring(o+1);if(a==="tunnel"&&r)return r}}function d(){if(m(window)?.override==="tunnel")return x()}var l={app:"127.0.0.1",canvas:"127.0.0.1",https:!1},u={app:"localhost",canvas:"localhost",https:!1},g={app:"web.framerlocal.com",canvas:"web.framerlocal.com",https:!1},D=[{app:"development.framer.com",canvas:"framercanvas.dev",https:!0},{app:".development.framer.com",canvas:".framercanvas.dev",https:!0},{app:".framer.com",canvas:".framercanvas.com",https:!0},{app:"framer.com",canvas:"framercanvas.com",https:!0},g,l,u],h=!1;function v(t,e){for(let n of D){let o=n[t];if(e===o)return n;if(o.startsWith(".")&&e.endsWith(o))return n}}function b(t){let e=window.location,n=new URL(t,e.href);if(n.origin!==e.origin)throw Error(`Domain lookup requires relative paths. Received ${t}`);let o=v("app",e.hostname);if(!o||o.https&&n.protocol!=="https:")throw Error(`Running on unknown app domain: ${n}`);let a;try{a=new URL(p().canvas).hostname}catch{}let r=a?n.hostname:o.app,i=a??o[h?"app":"canvas"];n.hostname.endsWith(r)&&(n.hostname=n.hostname.slice(0,-r.length)+i);let s=d();s?n.searchParams.set("tunnel",s):new URLSearchParams(e.search).get("tunnel")===""&&n.searchParams.set("tunnel","");let w=f.get("prototypeTreeDriver");return n.searchParams.set("experiment",`prototypeTreeDriver=${w}`),{url:n.href,origin:n.origin,isCrossOriginProtected:r!==i}}function S(t){if(navigator.userAgent.indexOf("FramerCommand")!==-1)return;let e=window.location,{origin:n,isCrossOriginProtected:o}=b(t),a=e.hostname===l.app,r=e.hostname===u.app,i=e.hostname===g.app;c(o||(a||r||i||h),`Attempt to create unsafe sandboxed app for origin: ${n} on page with origin: ${e.origin}`)}function y(t){if(!t)return{origin:"*"};let e=window.location,n=new URL(t),o=v("app",n.hostname);return c(n&&n.protocol===e.protocol&&o,`Attempt to create secure link from sandboxed app (${e.href}) to unknown editor domain (${t})`),{origin:n.origin}}export{d as a,h as b,b as c,S as d,y as e};
//# sourceMappingURL=https://app.framerstatic.com/chunk-LKMP537Z.mjs.map
